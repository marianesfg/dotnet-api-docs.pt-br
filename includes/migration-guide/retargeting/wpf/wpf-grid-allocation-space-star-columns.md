### <a name="wpf-grid-allocation-of-space-to-star-columns"></a><span data-ttu-id="333fd-101">Alocação de grade do WPF do espaço para as colunas de estrela</span><span class="sxs-lookup"><span data-stu-id="333fd-101">WPF Grid allocation of space to star-columns</span></span>

|   |   |
|---|---|
|<span data-ttu-id="333fd-102">Detalhes</span><span class="sxs-lookup"><span data-stu-id="333fd-102">Details</span></span>|<span data-ttu-id="333fd-103">O .NET Framework 4.7, WPF substitui o algoritmo que <xref:System.Windows.Controls.Grid> usa ao alocar espaço para \*-colunas.</span><span class="sxs-lookup"><span data-stu-id="333fd-103">Starting with the .NET Framework 4.7, WPF replaces the algorithm that <xref:System.Windows.Controls.Grid> uses to allocate space to \*-columns.</span></span> <span data-ttu-id="333fd-104">Isso alterará a largura real atribuída a \*-colunas em um número de casos:</span><span class="sxs-lookup"><span data-stu-id="333fd-104">This will change the actual width assigned to \*-columns in a number of cases:</span></span><ul><li><span data-ttu-id="333fd-105">Quando um ou mais \*-as colunas também têm uma largura mínima ou máxima que substitui a alocação proporcional para essa coluna.</span><span class="sxs-lookup"><span data-stu-id="333fd-105">When one or more \*-columns also have a minimum or maximum width that overrides the proportional allocation for that colum.</span></span> <span data-ttu-id="333fd-106">(A largura mínima pode derivar de uma declaração explícita de MinWidth ou de um mínimo obtido do conteúdo da coluna.</span><span class="sxs-lookup"><span data-stu-id="333fd-106">(The minimum width can derive from an explicit MinWidth declaration, or from an implicit minimum obtained from the column's content.</span></span> <span data-ttu-id="333fd-107">A largura máxima só pode ser definida explicitamente, de uma declaração MaxWidth.)</span><span class="sxs-lookup"><span data-stu-id="333fd-107">The maximum width can only be defined explicitly, from a MaxWidth declaration.)</span></span></li><li><span data-ttu-id="333fd-108">Quando um ou mais *-colunas declarar extremamente grandes *-peso, maior que 10 ^ 298.</span><span class="sxs-lookup"><span data-stu-id="333fd-108">When one or more *-columns declare an extremely large *-weight, greater than 10^298.</span></span></li><li><span data-ttu-id="333fd-109">Quando o \*-peso é suficientemente diferente para encontrar instabilidade de ponto flutuante (estouro, estouro negativo, perda de precisão).</span><span class="sxs-lookup"><span data-stu-id="333fd-109">When the \*-weights are sufficiently different to encounter floating-point instability (overflow, underflow, loss of precision).</span></span></li><li><span data-ttu-id="333fd-110">Quando o arredondamento de layout está habilitado e o DPI de exibição efetivo é suficientemente alto.</span><span class="sxs-lookup"><span data-stu-id="333fd-110">When layout rounding is enabled, and the effective display DPI is sufficiently high.</span></span></li></ul><span data-ttu-id="333fd-111">Nos dois primeiros casos, as larguras produzidas pelo novo algoritmo podem ser significativamente diferentes daquelas produzido pelo algoritmo antigo; no último caso, a diferença será no máximo um ou dois pixels. O novo algoritmo corrige vários bugs presentes no algoritmo antigo:</span><span class="sxs-lookup"><span data-stu-id="333fd-111">In the first two cases, the widths produced by the new algorithm can be significantly different from those produced by the old algorithm; in the last case, the difference will be at most one or two pixels.The new algorithm fixes several bugs present in the old algorithm:</span></span><ol><li><span data-ttu-id="333fd-112">A alocação total de colunas pode exceder a largura da grade.</span><span class="sxs-lookup"><span data-stu-id="333fd-112">Total allocation to columns can exceed the Grid's width.</span></span> <span data-ttu-id="333fd-113">Isso pode ocorrer ao alocar espaço para uma coluna cujo compartilhamento proporcional seja menor que seu tamanho mínimo.</span><span class="sxs-lookup"><span data-stu-id="333fd-113">This can occur when allocating space to a column whose proportional share is less than its minimum size.</span></span> <span data-ttu-id="333fd-114">O algoritmo aloca o tamanho mínimo, o que reduz o espaço disponível para outras colunas.</span><span class="sxs-lookup"><span data-stu-id="333fd-114">The algorithm allocates the minimum size, which decreases the space available to other columns.</span></span> <span data-ttu-id="333fd-115">Se não houver nenhum \*-colunas à esquerda para alocar, a alocação total será muito grande.</span><span class="sxs-lookup"><span data-stu-id="333fd-115">If there are no \*-columns left to allocate, the total allocation will be too large.</span></span></li><li><span data-ttu-id="333fd-116">A alocação total pode ser menor que a largura da grade.</span><span class="sxs-lookup"><span data-stu-id="333fd-116">Total allocation can fall short of the Grid's width.</span></span> <span data-ttu-id="333fd-117">Esse é o problema duplo para #1, decorrentes ao alocar a uma coluna cujo proporcional compartilhamento é maior do que seu tamanho máximo, sem nenhum \*-colunas à esquerda para a margem de atraso.</span><span class="sxs-lookup"><span data-stu-id="333fd-117">This is the dual problem to #1, arising when allocating to a column whose proportional share is greater than its maximum size, with no \*-columns left to take up the slack.</span></span></li><li><span data-ttu-id="333fd-118">Dois *-colunas podem receber alocações não de acordo com seus *-pesos.</span><span class="sxs-lookup"><span data-stu-id="333fd-118">Two *-columns can receive allocations not proportional to their *-weights.</span></span> <span data-ttu-id="333fd-119">Esta é uma versão atenuada da n° 1 e da n° 2, que surge ao alocar para colunas de \* A, B e C (nessa ordem), quando o compartilhamento proporcional de B viola sua restrição mínima (ou máxima).</span><span class="sxs-lookup"><span data-stu-id="333fd-119">This is a milder version of #1/#2, arising when allocating to \*-columns A, B, and C (in that order), where B's proportional share violates its min (or max) constraint.</span></span> <span data-ttu-id="333fd-120">Como acima, isso altera o espaço disponível para a coluna C, que obtém menos (ou mais) alocação proporcional do que A.</span><span class="sxs-lookup"><span data-stu-id="333fd-120">As above, this changes the space available to column C, who gets less (or more) proportional allocation than A did,</span></span></li><li><span data-ttu-id="333fd-121">Colunas com pesos muito grandes (&gt; 10 ^ 298) são tratados como se tivessem o peso de 10 ^ 298.</span><span class="sxs-lookup"><span data-stu-id="333fd-121">Columns with extremely large weights (&gt; 10^298) are all treated as if they had weight 10^298.</span></span> <span data-ttu-id="333fd-122">Não são consideradas as diferenças proporcionais entre elas (e entre colunas com pesos um pouco menores).</span><span class="sxs-lookup"><span data-stu-id="333fd-122">Proportional differences between them (and between columns with slightly smaller weights) are not honored.</span></span></li><li><span data-ttu-id="333fd-123">Colunas com pesos inifinte não estão sendo tratadas corretamente.</span><span class="sxs-lookup"><span data-stu-id="333fd-123">Columns with inifinte weights are not handled correctly.</span></span> <span data-ttu-id="333fd-124">(Na verdade, você não pode definir um peso para infinito, mas essa é uma restrição artificial.</span><span class="sxs-lookup"><span data-stu-id="333fd-124">[Actually you can't set a weight to Infinity, but this is an artificial restriction.</span></span> <span data-ttu-id="333fd-125">O código de alocação tentou lidar com isso, mas não teve muito sucesso.)</span><span class="sxs-lookup"><span data-stu-id="333fd-125">The allocation code was trying to handle it, but doing a bad job.]</span></span></li><li><span data-ttu-id="333fd-126">Vários problemas menores, evitando estouro, estouro negativo, perda de precisão e problemas de ponto flutuante semelhantes.</span><span class="sxs-lookup"><span data-stu-id="333fd-126">Several minor problems while avoiding overflow, underflow, loss of precision and similar floating-point issues.</span></span></li><li><span data-ttu-id="333fd-127">Os ajustes de arredondamento de layout são incorretos em um DPI suficientemente alto.</span><span class="sxs-lookup"><span data-stu-id="333fd-127">Adjustments for layout rounding are incorrect at sufficiently high DPI.</span></span></li></ol><span data-ttu-id="333fd-128">O novo algoritmo produz resultados que atendam a critérios: A seguir.</span><span class="sxs-lookup"><span data-stu-id="333fd-128">The new algorithm produces results that meet the following criteria:A.</span></span> <span data-ttu-id="333fd-129">A largura real atribuída a um \*-coluna nunca é menor que sua largura mínima nem maior que a largura máxima. B.</span><span class="sxs-lookup"><span data-stu-id="333fd-129">The actual width assigned to a \*-column is never less than its minimum width nor greater than its maximum width.B.</span></span> <span data-ttu-id="333fd-130">Cada <em>-coluna que não é atribuída a seu mínimo ou largura máxima é atribuída a uma largura proporcional à sua <em>-peso. Para ser preciso, se duas colunas são declaradas com largura x</em> e y</em> respectivamente, e se nenhuma coluna recebe sua largura mínima ou máxima, o v larguras real e w atribuídas às colunas na mesma proporção: v / w = = x / y.C.</span><span class="sxs-lookup"><span data-stu-id="333fd-130">Each <em>-column that is not assigned its minimum or maximum width is assigned a width proportional to its <em>-weight. To be precise, if two columns are declared with width x</em> and y</em> respectively, and if neither column receives its minimum or maximum width, the actual widths v and w assigned to the columns are in the same proportion: v / w == x / y.C.</span></span> <span data-ttu-id="333fd-131">A largura total alocada para &quot;proporcional&quot; *-colunas é igual ao espaço disponível depois de alocar para colunas restritas (fixo, automaticamente, e *-colunas que estão alocados sua largura mínimo ou máximo).</span><span class="sxs-lookup"><span data-stu-id="333fd-131">The total width allocated to &quot;proportional&quot; *-columns is equal to the space available after allocating to the constrained columns (fixed, auto, and *-columns that are allocated their min or max width).</span></span> <span data-ttu-id="333fd-132">Isso pode ser zero, por exemplo se a soma das larguras mínimas excede a largura de availbable da grade. D.</span><span class="sxs-lookup"><span data-stu-id="333fd-132">This might be zero, for instance if the sum of the minimum widths exceeds the Grid's availbable width.D.</span></span> <span data-ttu-id="333fd-133">Todas essas instruções são para serem interpretados com relação ao &quot;ideal&quot; layout.</span><span class="sxs-lookup"><span data-stu-id="333fd-133">All these statements are to be interpreted with respect to the &quot;ideal&quot; layout.</span></span> <span data-ttu-id="333fd-134">Quando o arredondamento de layout está em vigor, as larguras reais podem diferir das larguras ideais tanto quanto um pixel. O algoritmo antigo cumprido (A), mas não pôde honrar outros critérios nos casos descritos acima. Tudo falou sobre colunas e larguras neste artigo se aplica também a linhas e alturas.</span><span class="sxs-lookup"><span data-stu-id="333fd-134">When layout rounding is in effect, the actual widths can differ from the ideal widths by as much as one pixel.The old algorithm honored (A) but failed to honor the other criteria in the cases outlined above.Everything said about columns and widths in this article applies as well to rows and heights.</span></span>|
|<span data-ttu-id="333fd-135">Sugestão</span><span class="sxs-lookup"><span data-stu-id="333fd-135">Suggestion</span></span>|<span data-ttu-id="333fd-136">Por padrão, os aplicativos que as versões de destino do .NET Framework, começando com o .NET Framework 4.7 verão o novo algoritmo, enquanto os aplicativos que o destino do .NET Framework 4.6.2 ou versões anteriores verão o algoritmo antigo. Para substituir o padrão, use a seguinte configuração:</span><span class="sxs-lookup"><span data-stu-id="333fd-136">By default, apps that target versions of the .NET Framework starting with the .NET Framework 4.7 will see the new algorithm, while apps that target the .NET Framework 4.6.2 or earlier versions will see the old algorithm.To override the default, use the following configuration setting:</span></span><pre><code class="language-xml">&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Windows.Controls.Grid.StarDefinitionsCanExceedAvailableSpace=true&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;</code></pre><span data-ttu-id="333fd-137">O valor 'true' seleciona o algoritmo antigo, 'false' seleciona o novo algoritmo.</span><span class="sxs-lookup"><span data-stu-id="333fd-137">The value 'true' selects the old algorithm, 'false' selects the new algorithm.</span></span>|
|<span data-ttu-id="333fd-138">Escopo</span><span class="sxs-lookup"><span data-stu-id="333fd-138">Scope</span></span>|<span data-ttu-id="333fd-139">Secundário</span><span class="sxs-lookup"><span data-stu-id="333fd-139">Minor</span></span>|
|<span data-ttu-id="333fd-140">Versão</span><span class="sxs-lookup"><span data-stu-id="333fd-140">Version</span></span>|<span data-ttu-id="333fd-141">4.7</span><span class="sxs-lookup"><span data-stu-id="333fd-141">4.7</span></span>|
|<span data-ttu-id="333fd-142">Tipo</span><span class="sxs-lookup"><span data-stu-id="333fd-142">Type</span></span>|<span data-ttu-id="333fd-143">Redirecionando</span><span class="sxs-lookup"><span data-stu-id="333fd-143">Retargeting</span></span>|

