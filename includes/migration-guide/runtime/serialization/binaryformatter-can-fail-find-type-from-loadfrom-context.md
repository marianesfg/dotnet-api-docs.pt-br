### <a name="binaryformatter-can-fail-to-find-type-from-loadfrom-context"></a>BinaryFormatter pode não conseguir localizar o tipo do contexto LoadFrom

|   |   |
|---|---|
|Detalhes|A partir do .NET Framework 4.5, várias alterações de <xref:System.Xml.Serialization.XmlSerializer?displayProperty=name> podem causar diferenças na desserialização ao usar <xref:System.Runtime.Serialization.Formatters.Binary.BinaryFormatter?displayProperty=name> para desserializar tipos que foram carregados no contexto LoadFrom. Essas alterações se devem a novas maneiras como <xref:System.Xml.Serialization.XmlSerializer?displayProperty=name> agora carrega um tipo, o que causa um comportamento diferente quando um <xref:System.Runtime.Serialization.Formatters.Binary.BinaryFormatter?displayProperty=name> tenta desserializar esse tipo posteriormente. O associador de serialização padrão não pesquisa automaticamente o contexto LoadFrom, embora isso possa ter funcionado em algumas circunstâncias com base no comportamento antigo do XmlSerializer. Devido às alterações, quando um tipo está sendo carregado de um assembly carregado em um contexto diferente, um <xref:System.IO.FileNotFoundException?displayProperty=name> pode ser acionado.|
|Sugestão|Se essa exceção for observada, a propriedade <code>Binder</code> do <xref:System.Runtime.Serialization.Formatters.Binary.BinaryFormatter?displayProperty=name> poderá ser definida como um associador personalizado que encontrará o tipo correto.<pre><code class="language-C#">var formatter = new BinaryFormatter { Binder = new TypeFinderBinder() }&#13;&#10;</code></pre>E, em seguida, o associador personalizado:<pre><code class="language-C#">public class TypeFinderBinder : SerializationBinder&#13;&#10;{&#13;&#10;private static readonly string s_assemblyName = Assembly.GetExecutingAssembly().FullName;&#13;&#10;&#13;&#10;public override Type BindToType(string assemblyName, string typeName)&#13;&#10;{&#13;&#10;return Type.GetType(String.Format(CultureInfo.InvariantCulture, &quot;{0}, {1}&quot;, typeName, s_assemblyName));&#13;&#10;}&#13;&#10;}&#13;&#10;</code></pre>|
|Escopo|Microsoft Edge|
|Versão|4.5|
|Tipo|Tempo de execução|
|APIs afetadas|<ul><li><xref:System.Runtime.Serialization.Formatters.Binary.BinaryFormatter?displayProperty=nameWithType></li><li><xref:System.Runtime.Serialization.Formatters.Binary.BinaryFormatter.Deserialize(System.IO.Stream)?displayProperty=nameWithType></li><li><xref:System.Runtime.Serialization.Formatters.Binary.BinaryFormatter.Deserialize(System.IO.Stream,System.Runtime.Remoting.Messaging.HeaderHandler)?displayProperty=nameWithType></li></ul>|

