<Type Name="WorkflowInstance" FullName="System.Workflow.Runtime.WorkflowInstance">
  <Metadata>
    <Meta Name="ms.openlocfilehash" Value="07d8382ec4e884cb18693125a3c051d1729b8b45" />
    <Meta Name="ms.sourcegitcommit" Value="5a49536d99d2d0b54e4cb7280870903e043272df" />
    <Meta Name="ms.translationtype" Value="HT" />
    <Meta Name="ms.contentlocale" Value="pt-BR" />
    <Meta Name="ms.lasthandoff" Value="07/03/2018" />
    <Meta Name="ms.locfileid" Value="37734420" />
  </Metadata>
  <TypeSignature Language="C#" Value="public sealed class WorkflowInstance" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi sealed beforefieldinit WorkflowInstance extends System.Object" />
  <TypeSignature Language="DocId" Value="T:System.Workflow.Runtime.WorkflowInstance" />
  <TypeSignature Language="VB.NET" Value="Public NotInheritable Class WorkflowInstance" />
  <TypeSignature Language="C++ CLI" Value="public ref class WorkflowInstance sealed" />
  <TypeSignature Language="F#" Value="type WorkflowInstance = class" />
  <AssemblyInfo>
    <AssemblyName>System.Workflow.Runtime</AssemblyName>
    <AssemblyVersion>3.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Object</BaseTypeName>
  </Base>
  <Interfaces />
  <Attributes>
    <Attribute>
      <AttributeName>System.Obsolete("The System.Workflow.* types are deprecated.  Instead, please use the new types from System.Activities.*")</AttributeName>
    </Attribute>
  </Attributes>
  <Docs>
    <summary>
      <span data-ttu-id="999aa-101">Represents a workflow instance.</span>
      <span class="sxs-lookup">
        <span data-stu-id="999aa-101">Represents a workflow instance.</span>
      </span>
    </summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
  
> [!NOTE]
>  [!INCLUDE[DeprecatedContent](~/includes/deprecatedcontent-md.md)]  
  
 <span data-ttu-id="999aa-102">O <xref:System.Workflow.Runtime.WorkflowInstance> classe expõe métodos e propriedades que podem ser usadas para controlar a execução de uma instância de fluxo de trabalho; ele é essencialmente um proxy para a instância de fluxo de trabalho real usado pelo mecanismo de tempo de execução de fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="999aa-102">The <xref:System.Workflow.Runtime.WorkflowInstance> class exposes methods and properties that can be used to control the execution of a workflow instance; it is essentially a proxy to the actual workflow instance used by the workflow runtime engine.</span></span> <span data-ttu-id="999aa-103">Um host ou um serviço pode instruir o mecanismo de tempo de execução de fluxo de trabalho para executar ações em uma instância de fluxo de trabalho chamando os métodos apropriados que estão contidos no <xref:System.Workflow.Runtime.WorkflowInstance> classe.</span><span class="sxs-lookup"><span data-stu-id="999aa-103">A host or a service can instruct the workflow runtime engine to perform actions on a workflow instance by calling the appropriate methods that are contained in the <xref:System.Workflow.Runtime.WorkflowInstance> class.</span></span>  <span data-ttu-id="999aa-104">Se a ação solicitada não é válida, por exemplo, se o host chama <xref:System.Workflow.Runtime.WorkflowInstance.Load%2A> em uma instância de fluxo de trabalho que já foi concluída, o mecanismo de tempo de execução do fluxo de trabalho irá gerar uma exceção apropriada.</span><span class="sxs-lookup"><span data-stu-id="999aa-104">If the requested action is not valid, for example, if the host calls <xref:System.Workflow.Runtime.WorkflowInstance.Load%2A> on a workflow instance that has already completed, the workflow runtime engine will raise an appropriate exception.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="999aa-105">Se uma instância de fluxo de trabalho ficar sem resposta como uma chamada no aplicativo host não retorna, a única maneira de recuperar a instância é reiniciar o tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="999aa-105">If a workflow instance becomes unresponsive because a call on the host application does not return, the only way to recover the instance is to restart the runtime.</span></span> <span data-ttu-id="999aa-106">No entanto, se a instância tiver sido descarregada à força, anuladas ou suspensas, ele pode ser continuado chamando o <xref:System.Workflow.Runtime.WorkflowInstance.Resume%2A?displayProperty=nameWithType> método.</span><span class="sxs-lookup"><span data-stu-id="999aa-106">However, if the instance has been forcibly unloaded, aborted, or suspended, it can be continued by calling the <xref:System.Workflow.Runtime.WorkflowInstance.Resume%2A?displayProperty=nameWithType> method.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="999aa-107">O exemplo de código a seguir demonstra como você pode criar e iniciar um <xref:System.Workflow.Runtime.WorkflowInstance> em um host de fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="999aa-107">The following code example demonstrates how you can create and start a <xref:System.Workflow.Runtime.WorkflowInstance> in a workflow host.</span></span> <span data-ttu-id="999aa-108">O código cria uma instância das <xref:System.Workflow.Runtime.WorkflowRuntime>, adiciona serviços ao tempo de execução e, em seguida, demonstra a maneira recomendada para criar um <xref:System.Workflow.Runtime.WorkflowInstance> objeto.</span><span class="sxs-lookup"><span data-stu-id="999aa-108">The code creates an instance of the <xref:System.Workflow.Runtime.WorkflowRuntime>, adds services to the runtime, and then demonstrates the recommended way to create a <xref:System.Workflow.Runtime.WorkflowInstance> object.</span></span> <span data-ttu-id="999aa-109">O código inicializa <xref:System.Workflow.Runtime.WorkflowInstance> chamando o <xref:System.Workflow.Runtime.WorkflowRuntime.CreateWorkflow%2A> método e passando o tipo criado anteriormente para ele.</span><span class="sxs-lookup"><span data-stu-id="999aa-109">The code initializes <xref:System.Workflow.Runtime.WorkflowInstance> by calling the <xref:System.Workflow.Runtime.WorkflowRuntime.CreateWorkflow%2A> method and passing the previously created type to it.</span></span> <span data-ttu-id="999aa-110">O <xref:System.Workflow.Runtime.WorkflowInstance> é iniciado com o <xref:System.Workflow.Runtime.WorkflowInstance.Start%2A> chamada de método.</span><span class="sxs-lookup"><span data-stu-id="999aa-110">The <xref:System.Workflow.Runtime.WorkflowInstance> is started with the <xref:System.Workflow.Runtime.WorkflowInstance.Start%2A> method call.</span></span>  
  
 <span data-ttu-id="999aa-111">Este exemplo de código é parte do cancelar um SDK de fluxo de trabalho de exemplo do arquivo Program.cs.</span><span class="sxs-lookup"><span data-stu-id="999aa-111">This code example is part of the Canceling a Workflow SDK sample from the Program.cs file.</span></span> <span data-ttu-id="999aa-112">Para obter mais informações, consulte [Cancelando um fluxo de trabalho](http://msdn.microsoft.com/library/d5077f56-a78b-48e7-825c-f6c77c8e54fb).</span><span class="sxs-lookup"><span data-stu-id="999aa-112">For more information, see [Canceling a Workflow](http://msdn.microsoft.com/library/d5077f56-a78b-48e7-825c-f6c77c8e54fb).</span></span>  
  
 [!code-csharp[WF_Samples#260](~/samples/snippets/csharp/VS_Snippets_CFX/wf_samples/cs/snippets24.cs#260)]
 [!code-vb[WF_Samples#260](~/samples/snippets/visualbasic/VS_Snippets_CFX/wf_samples/vb/snippets24.vb#260)]  
  
 ]]></format>
    </remarks>
    <threadsafe>
      <span data-ttu-id="999aa-113">Este tipo é thread-safe.</span>
      <span class="sxs-lookup">
        <span data-stu-id="999aa-113">This type is thread safe.</span>
      </span>
    </threadsafe>
  </Docs>
  <Members>
    <Member MemberName="Abort">
      <MemberSignature Language="C#" Value="public void Abort ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void Abort() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.WorkflowInstance.Abort" />
      <MemberSignature Language="VB.NET" Value="Public Sub Abort ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void Abort();" />
      <MemberSignature Language="F#" Value="member this.Abort : unit -&gt; unit" Usage="workflowInstance.Abort " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="999aa-114">Aborts the workflow instance.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-114">Aborts the workflow instance.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="999aa-115">A instância de fluxo de trabalho é anulada de forma síncrona; ou seja, o método retorna depois que a instância de fluxo de trabalho foi anulada.</span><span class="sxs-lookup"><span data-stu-id="999aa-115">The workflow instance is aborted in a synchronous manner; that is, the method returns after the workflow instance has been aborted.</span></span> <span data-ttu-id="999aa-116">O mecanismo de tempo de execução do fluxo de trabalho invalida a instância de fluxo de trabalho na memória e limpa o <xref:System.Workflow.Runtime.WorkflowEnvironment.WorkBatch%2A>.</span><span class="sxs-lookup"><span data-stu-id="999aa-116">The workflow runtime engine invalidates the workflow instance in memory and clears the <xref:System.Workflow.Runtime.WorkflowEnvironment.WorkBatch%2A>.</span></span> <span data-ttu-id="999aa-117">Se um serviço de persistência usado por sua instância de fluxo de trabalho, todo o trabalho executado desde o último ponto de persistência é jogado fora.</span><span class="sxs-lookup"><span data-stu-id="999aa-117">If a persistence service was used by your workflow instance, all work performed since the last persistence point is thrown away.</span></span> <span data-ttu-id="999aa-118">Depois que ele anula a instância de fluxo de trabalho, o mecanismo de tempo de execução do fluxo de trabalho aciona o <xref:System.Workflow.Runtime.WorkflowRuntime.WorkflowAborted> eventos.</span><span class="sxs-lookup"><span data-stu-id="999aa-118">After it aborts the workflow instance, the workflow runtime engine raises the <xref:System.Workflow.Runtime.WorkflowRuntime.WorkflowAborted> event.</span></span> <span data-ttu-id="999aa-119">Você pode chamar <xref:System.Workflow.Runtime.WorkflowRuntime.GetWorkflow%2A> recarregar a instância de fluxo de trabalho e inicie do último ponto de persistência.</span><span class="sxs-lookup"><span data-stu-id="999aa-119">You can call <xref:System.Workflow.Runtime.WorkflowRuntime.GetWorkflow%2A> to reload the workflow instance and start from its last persistence point.</span></span>  
  
 <span data-ttu-id="999aa-120">`Abort` é diferente da <xref:System.Workflow.Runtime.WorkflowInstance.Terminate%2A> em que, embora `Abort` simplesmente limpa a instância de fluxo de trabalho na memória e pode ser reiniciado do último ponto de persistência, Terminate limpa a instância de fluxo de trabalho na memória e informa a persistência de serviço que o instância foi limpo da memória.</span><span class="sxs-lookup"><span data-stu-id="999aa-120">`Abort` is different from <xref:System.Workflow.Runtime.WorkflowInstance.Terminate%2A> in that while `Abort` simply clears the in-memory workflow instance and can be restarted from the last persistence point, Terminate clears the in-memory workflow instance and informs the persistence service that the instance has been cleared from memory.</span></span> <span data-ttu-id="999aa-121">Para o <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService>, isso significa que todas as informações de estado para essa instância de fluxo de trabalho seja excluídas do banco de dados após a rescisão.</span><span class="sxs-lookup"><span data-stu-id="999aa-121">For the <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService>, this means that all state information for that workflow instance is deleted from the database upon termination.</span></span> <span data-ttu-id="999aa-122">Você não poderá recarregar a instância de fluxo de trabalho de um ponto de persistência armazenadas anteriormente.</span><span class="sxs-lookup"><span data-stu-id="999aa-122">You will not be able to reload the workflow instance from a previously stored persistence point.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="999aa-123">O exemplo a seguir demonstra a anulação de chamada em uma instância de fluxo de trabalho do tipo Workflow1.</span><span class="sxs-lookup"><span data-stu-id="999aa-123">The following example demonstrates calling Abort on a workflow instance of type Workflow1.</span></span>  
  
 [!code-csharp[WF_Samples#13](~/samples/snippets/csharp/VS_Snippets_CFX/wf_samples/cs/snippets.cs#13)]
 [!code-vb[WF_Samples#13](~/samples/snippets/visualbasic/VS_Snippets_CFX/wf_samples/vb/snippets.vb#13)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="999aa-124">The workflow runtime engine is not running.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-124">The workflow runtime engine is not running.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="ApplyWorkflowChanges">
      <MemberSignature Language="C#" Value="public void ApplyWorkflowChanges (System.Workflow.ComponentModel.WorkflowChanges workflowChanges);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void ApplyWorkflowChanges(class System.Workflow.ComponentModel.WorkflowChanges workflowChanges) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.WorkflowInstance.ApplyWorkflowChanges(System.Workflow.ComponentModel.WorkflowChanges)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void ApplyWorkflowChanges(System::Workflow::ComponentModel::WorkflowChanges ^ workflowChanges);" />
      <MemberSignature Language="F#" Value="member this.ApplyWorkflowChanges : System.Workflow.ComponentModel.WorkflowChanges -&gt; unit" Usage="workflowInstance.ApplyWorkflowChanges workflowChanges" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="workflowChanges" Type="System.Workflow.ComponentModel.WorkflowChanges" />
      </Parameters>
      <Docs>
        <param name="workflowChanges">
          <span data-ttu-id="999aa-125">A <see cref="T:System.Workflow.ComponentModel.WorkflowChanges" /> specifying dynamic updates for the workflow instance.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-125">A <see cref="T:System.Workflow.ComponentModel.WorkflowChanges" /> specifying dynamic updates for the workflow instance.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="999aa-126">Applies changes to the workflow instance specified by the <see cref="T:System.Workflow.ComponentModel.WorkflowChanges" /> object.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-126">Applies changes to the workflow instance specified by the <see cref="T:System.Workflow.ComponentModel.WorkflowChanges" /> object.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="999aa-127">Se a instância de fluxo de trabalho já não estiver suspenso, o mecanismo de tempo de execução do fluxo de trabalho suspende temporariamente a instância antes de aplicar as alterações.</span><span class="sxs-lookup"><span data-stu-id="999aa-127">If the workflow instance is not already suspended, the workflow runtime engine temporarily suspends the instance before applying the changes.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="999aa-128">O exemplo a seguir demonstra a chamada ApplyWorkflowChanges para um <xref:System.Workflow.Runtime.WorkflowInstance> objeto.</span><span class="sxs-lookup"><span data-stu-id="999aa-128">The following example demonstrates calling ApplyWorkflowChanges to a <xref:System.Workflow.Runtime.WorkflowInstance> object.</span></span>  <span data-ttu-id="999aa-129">Este exemplo é do exemplo de ordenação de SDK de máquina de estado do arquivo Mainform.cs.</span><span class="sxs-lookup"><span data-stu-id="999aa-129">This example is from the Ordering State Machine SDK sample, from the Mainform.cs file.</span></span>  <span data-ttu-id="999aa-130">Para obter mais informações, consulte o [exemplo de máquina de estado do pedido](http://msdn.microsoft.com/library/59272cf4-bc98-439c-bcfa-b66999ebce5c).</span><span class="sxs-lookup"><span data-stu-id="999aa-130">For more information, see the [Ordering State Machine Sample](http://msdn.microsoft.com/library/59272cf4-bc98-439c-bcfa-b66999ebce5c).</span></span>  
  
 [!code-csharp[WF_Samples#89](~/samples/snippets/csharp/VS_Snippets_CFX/wf_samples/cs/snippets1.cs#89)]
 [!code-vb[WF_Samples#89](~/samples/snippets/visualbasic/VS_Snippets_CFX/wf_samples/vb/snippets1.vb#89)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="999aa-131">The workflow runtime engine is not running.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-131">The workflow runtime engine is not running.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="EnqueueItem">
      <MemberSignature Language="C#" Value="public void EnqueueItem (IComparable queueName, object item, System.Workflow.Runtime.IPendingWork pendingWork, object workItem);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void EnqueueItem(class System.IComparable queueName, object item, class System.Workflow.Runtime.IPendingWork pendingWork, object workItem) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.WorkflowInstance.EnqueueItem(System.IComparable,System.Object,System.Workflow.Runtime.IPendingWork,System.Object)" />
      <MemberSignature Language="VB.NET" Value="Public Sub EnqueueItem (queueName As IComparable, item As Object, pendingWork As IPendingWork, workItem As Object)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void EnqueueItem(IComparable ^ queueName, System::Object ^ item, System::Workflow::Runtime::IPendingWork ^ pendingWork, System::Object ^ workItem);" />
      <MemberSignature Language="F#" Value="member this.EnqueueItem : IComparable * obj * System.Workflow.Runtime.IPendingWork * obj -&gt; unit" Usage="workflowInstance.EnqueueItem (queueName, item, pendingWork, workItem)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="queueName" Type="System.IComparable" />
        <Parameter Name="item" Type="System.Object" />
        <Parameter Name="pendingWork" Type="System.Workflow.Runtime.IPendingWork" />
        <Parameter Name="workItem" Type="System.Object" />
      </Parameters>
      <Docs>
        <param name="queueName">
          <span data-ttu-id="999aa-132">The name of the <see cref="T:System.Workflow.Runtime.WorkflowQueue" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-132">The name of the <see cref="T:System.Workflow.Runtime.WorkflowQueue" />.</span>
          </span>
        </param>
        <param name="item">
          <span data-ttu-id="999aa-133">The object to enqueue.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-133">The object to enqueue.</span>
          </span>
        </param>
        <param name="pendingWork">
          <span data-ttu-id="999aa-134">An <see cref="T:System.Workflow.Runtime.IPendingWork" /> that allows the sender to be notified when <c>item</c> is delivered.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-134">An <see cref="T:System.Workflow.Runtime.IPendingWork" /> that allows the sender to be notified when <c>item</c> is delivered.</span>
          </span>
        </param>
        <param name="workItem">
          <span data-ttu-id="999aa-135">An object to be passed to the <see cref="T:System.Workflow.Runtime.IPendingWork" /> methods.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-135">An object to be passed to the <see cref="T:System.Workflow.Runtime.IPendingWork" /> methods.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="999aa-136">Posts a message to the specified workflow queue synchronously.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-136">Posts a message to the specified workflow queue synchronously.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="999aa-137">Envia o `item` especificado <xref:System.Workflow.Runtime.WorkflowQueue>.</span><span class="sxs-lookup"><span data-stu-id="999aa-137">Sends the `item` to the specified <xref:System.Workflow.Runtime.WorkflowQueue>.</span></span> <span data-ttu-id="999aa-138">Se você quiser ser notificado quando a mensagem é entregue, você pode implementar <xref:System.Workflow.Runtime.IPendingWork> em seu serviço e passe um `workItem` e uma <xref:System.Workflow.Runtime.IPendingWork> objeto <xref:System.Workflow.Runtime.WorkflowInstance.EnqueueItem%2A>.</span><span class="sxs-lookup"><span data-stu-id="999aa-138">If you want to be notified when the message is delivered, you can implement <xref:System.Workflow.Runtime.IPendingWork> in your service and pass a `workItem` and an <xref:System.Workflow.Runtime.IPendingWork> object to <xref:System.Workflow.Runtime.WorkflowInstance.EnqueueItem%2A>.</span></span> <span data-ttu-id="999aa-139">Se você não quiser que essa notificação, você pode passar uma referência nula (`Nothing` no Visual Basic) para `pendingWork` e `workItem`.</span><span class="sxs-lookup"><span data-stu-id="999aa-139">If you do not want such notification, you can pass a null reference (`Nothing` in Visual Basic) for `pendingWork` and `workItem`.</span></span>  
  
 <span data-ttu-id="999aa-140">Ao usar esse método com um fluxo de trabalho de máquina de estado, você pode receber uma exceção com a mensagem "fila '{0}' não está habilitada."</span><span class="sxs-lookup"><span data-stu-id="999aa-140">When using this method with a state machine workflow, you might get an exception with the message "Queue '{0}' is not enabled."</span></span> <span data-ttu-id="999aa-141">Isso acontece quando o estado atual da máquina de estado não sabe como manipular um evento específico.</span><span class="sxs-lookup"><span data-stu-id="999aa-141">This happens when the current state of the state machine does not know how to handle a specific event.</span></span> <span data-ttu-id="999aa-142">Por exemplo, quando algum estado que não seja o estado atual contém o <xref:System.Workflow.Activities.EventDrivenActivity> que contém o <xref:System.Workflow.Activities.HandleExternalEventActivity> que é representado pela fila '{0}'.</span><span class="sxs-lookup"><span data-stu-id="999aa-142">For example, when some state other than the current state contains the <xref:System.Workflow.Activities.EventDrivenActivity> that contains the <xref:System.Workflow.Activities.HandleExternalEventActivity> that is represented by the queue '{0}'.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="999aa-143">As mensagens não são garantidas para ser recebida pela instância de fluxo de trabalho na ordem em que foram enviadas.</span><span class="sxs-lookup"><span data-stu-id="999aa-143">Messages are not guaranteed to be received by the workflow instance in the order that they were sent.</span></span> <span data-ttu-id="999aa-144">Por exemplo, se receber uma mensagem em um causas de (uma fila), um fluxo de trabalho para criar outra fila (fila B), que, em seguida, escuta de outra mensagem enviado após a primeira mensagem da fila, é possível que a segunda mensagem será recebida pela primeira vez e não será recebida devido à sua fila de mensagens não está sendo criado.</span><span class="sxs-lookup"><span data-stu-id="999aa-144">For example, if receiving a message in an existing queue (Queue A) causes a workflow to create another queue (Queue B), which then listens for another message sent after the first message, it is possible that the second message will arrive first, and will not be received due to its queue not being created yet.</span></span> <span data-ttu-id="999aa-145">Para evitar esse problema, a segunda mensagem não deve ser enviada até que a presença da segunda fila seja verificada (usando <xref:System.Workflow.Runtime.WorkflowInstance.GetWorkflowQueueData%2A>.)</span><span class="sxs-lookup"><span data-stu-id="999aa-145">To prevent this issue, the second message should not be sent until the presence of the second queue is verified (using <xref:System.Workflow.Runtime.WorkflowInstance.GetWorkflowQueueData%2A>.)</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="999aa-146">O exemplo de código a seguir demonstra como usar <xref:System.Workflow.Runtime.WorkflowInstance.EnqueueItem%2A>.</span><span class="sxs-lookup"><span data-stu-id="999aa-146">The following code example demonstrates how to use <xref:System.Workflow.Runtime.WorkflowInstance.EnqueueItem%2A>.</span></span> <span data-ttu-id="999aa-147">Quando o <xref:System.Workflow.Runtime.WorkflowRuntime.WorkflowIdled> evento ocorrer, o `OnWorkflowIdled` definido neste exemplo do método é chamado.</span><span class="sxs-lookup"><span data-stu-id="999aa-147">When the <xref:System.Workflow.Runtime.WorkflowRuntime.WorkflowIdled> event occurs, the `OnWorkflowIdled` method defined in this example is called.</span></span> <span data-ttu-id="999aa-148">Ele determina qual fluxo de trabalho está ocioso usando o <xref:System.Workflow.Runtime.WorkflowEventArgs.WorkflowInstance%2A> propriedade e, em seguida, obtém uma coleção de itens em fila para o fluxo de trabalho instância chamando o <xref:System.Workflow.Runtime.WorkflowInstance.GetWorkflowQueueData%2A> método.</span><span class="sxs-lookup"><span data-stu-id="999aa-148">It determines which workflow is idled using the <xref:System.Workflow.Runtime.WorkflowEventArgs.WorkflowInstance%2A> property and then gets a collection of queued items for the workflow instance by calling the <xref:System.Workflow.Runtime.WorkflowInstance.GetWorkflowQueueData%2A> method.</span></span> <span data-ttu-id="999aa-149">O código itera na coleção para determinar qual atividade está aguardando o evento que é rodado em marcha lento o fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="999aa-149">The code iterates over the collection to determine which activity is waiting for the event that idled the workflow.</span></span> <span data-ttu-id="999aa-150">Ele envia uma exceção para a fila de fluxo de trabalho usando o <xref:System.Workflow.Runtime.WorkflowInstance.EnqueueItem%2A> método junto com o nome do item da fila de eventos.</span><span class="sxs-lookup"><span data-stu-id="999aa-150">It then sends an exception to the workflow queue using the <xref:System.Workflow.Runtime.WorkflowInstance.EnqueueItem%2A> method along with the name of the event queue item.</span></span>  
  
 <span data-ttu-id="999aa-151">Este exemplo de código é parte do cancelar um SDK de fluxo de trabalho de exemplo do arquivo Program.cs.</span><span class="sxs-lookup"><span data-stu-id="999aa-151">This code example is part of the Canceling a Workflow SDK sample from the Program.cs file.</span></span> <span data-ttu-id="999aa-152">Para obter mais informações, consulte [Cancelando um fluxo de trabalho](http://msdn.microsoft.com/library/d5077f56-a78b-48e7-825c-f6c77c8e54fb).</span><span class="sxs-lookup"><span data-stu-id="999aa-152">For more information, see [Canceling a Workflow](http://msdn.microsoft.com/library/d5077f56-a78b-48e7-825c-f6c77c8e54fb).</span></span>  
  
 [!code-csharp[WF_Samples#261](~/samples/snippets/csharp/VS_Snippets_CFX/wf_samples/cs/snippets24.cs#261)]
 [!code-vb[WF_Samples#261](~/samples/snippets/visualbasic/VS_Snippets_CFX/wf_samples/vb/snippets24.vb#261)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="999aa-153">
            <paramref name="queueName" /> is a null reference (<see langword="Nothing" /> in Visual Basic).</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-153">
              <paramref name="queueName" /> is a null reference (<see langword="Nothing" /> in Visual Basic).</span>
          </span>
        </exception>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="999aa-154">The workflow runtime engine is not running.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-154">The workflow runtime engine is not running.</span>
          </span>
          <span data-ttu-id="999aa-155">-or-  The <see cref="T:System.Workflow.Runtime.WorkflowQueue" /> specified by <paramref name="queueName" /> does not exist.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-155">-or-  The <see cref="T:System.Workflow.Runtime.WorkflowQueue" /> specified by <paramref name="queueName" /> does not exist.</span>
          </span>
          <span data-ttu-id="999aa-156">-or-  The <see cref="T:System.Workflow.Runtime.WorkflowQueue" /> specified by <paramref name="queueName" /> is not enabled.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-156">-or-  The <see cref="T:System.Workflow.Runtime.WorkflowQueue" /> specified by <paramref name="queueName" /> is not enabled.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="EnqueueItemOnIdle">
      <MemberSignature Language="C#" Value="public void EnqueueItemOnIdle (IComparable queueName, object item, System.Workflow.Runtime.IPendingWork pendingWork, object workItem);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void EnqueueItemOnIdle(class System.IComparable queueName, object item, class System.Workflow.Runtime.IPendingWork pendingWork, object workItem) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.WorkflowInstance.EnqueueItemOnIdle(System.IComparable,System.Object,System.Workflow.Runtime.IPendingWork,System.Object)" />
      <MemberSignature Language="VB.NET" Value="Public Sub EnqueueItemOnIdle (queueName As IComparable, item As Object, pendingWork As IPendingWork, workItem As Object)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void EnqueueItemOnIdle(IComparable ^ queueName, System::Object ^ item, System::Workflow::Runtime::IPendingWork ^ pendingWork, System::Object ^ workItem);" />
      <MemberSignature Language="F#" Value="member this.EnqueueItemOnIdle : IComparable * obj * System.Workflow.Runtime.IPendingWork * obj -&gt; unit" Usage="workflowInstance.EnqueueItemOnIdle (queueName, item, pendingWork, workItem)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="queueName" Type="System.IComparable" />
        <Parameter Name="item" Type="System.Object" />
        <Parameter Name="pendingWork" Type="System.Workflow.Runtime.IPendingWork" />
        <Parameter Name="workItem" Type="System.Object" />
      </Parameters>
      <Docs>
        <param name="queueName">
          <span data-ttu-id="999aa-157">The name of the <see cref="T:System.Workflow.Runtime.WorkflowQueue" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-157">The name of the <see cref="T:System.Workflow.Runtime.WorkflowQueue" />.</span>
          </span>
        </param>
        <param name="item">
          <span data-ttu-id="999aa-158">The object to enqueue.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-158">The object to enqueue.</span>
          </span>
        </param>
        <param name="pendingWork">
          <span data-ttu-id="999aa-159">An <see cref="T:System.Workflow.Runtime.IPendingWork" /> that allows the sender to be notified when <c>item</c> is delivered.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-159">An <see cref="T:System.Workflow.Runtime.IPendingWork" /> that allows the sender to be notified when <c>item</c> is delivered.</span>
          </span>
        </param>
        <param name="workItem">
          <span data-ttu-id="999aa-160">An object to be passed to the <see cref="T:System.Workflow.Runtime.IPendingWork" /> methods.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-160">An object to be passed to the <see cref="T:System.Workflow.Runtime.IPendingWork" /> methods.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="999aa-161">Posts a message to the specified workflow queue when the workflow is idle.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-161">Posts a message to the specified workflow queue when the workflow is idle.</span>
          </span>
          <span data-ttu-id="999aa-162">
            <see cref="M:System.Workflow.Runtime.WorkflowInstance.EnqueueItemOnIdle(System.IComparable,System.Object,System.Workflow.Runtime.IPendingWork,System.Object)" /> waits until the workflow reaches an idle point and enqueues after verifying that the workflow scheduler is idle (that is, no active operation is being executed).</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-162">
              <see cref="M:System.Workflow.Runtime.WorkflowInstance.EnqueueItemOnIdle(System.IComparable,System.Object,System.Workflow.Runtime.IPendingWork,System.Object)" /> waits until the workflow reaches an idle point and enqueues after verifying that the workflow scheduler is idle (that is, no active operation is being executed).</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="999aa-163">Aguarda a instância de fluxo de trabalho se torne ocioso e, em seguida, envia o `item` especificado <xref:System.Workflow.Runtime.WorkflowQueue>.</span><span class="sxs-lookup"><span data-stu-id="999aa-163">Waits for the workflow instance to become idle and then sends the `item` to the specified <xref:System.Workflow.Runtime.WorkflowQueue>.</span></span> <span data-ttu-id="999aa-164">Se você chamar <xref:System.Workflow.Runtime.WorkflowInstance.EnqueueItemOnIdle%2A> enquanto a instância de fluxo de trabalho é suspenso, o mecanismo de tempo de execução do fluxo de trabalho irá acionar uma <xref:System.InvalidOperationException>.</span><span class="sxs-lookup"><span data-stu-id="999aa-164">If you call <xref:System.Workflow.Runtime.WorkflowInstance.EnqueueItemOnIdle%2A> while the workflow instance is suspended, the workflow runtime engine will throw an <xref:System.InvalidOperationException>.</span></span> <span data-ttu-id="999aa-165">Se você quiser ser notificado quando a mensagem é entregue, você pode implementar <xref:System.Workflow.Runtime.IPendingWork> em seu serviço e passe um `workItem` e uma <xref:System.Workflow.Runtime.IPendingWork> objeto <xref:System.Workflow.Runtime.WorkflowInstance.EnqueueItem%2A>.</span><span class="sxs-lookup"><span data-stu-id="999aa-165">If you want to be notified when the message is delivered, you can implement <xref:System.Workflow.Runtime.IPendingWork> in your service and pass a `workItem` and an <xref:System.Workflow.Runtime.IPendingWork> object to <xref:System.Workflow.Runtime.WorkflowInstance.EnqueueItem%2A>.</span></span> <span data-ttu-id="999aa-166">Se você não quiser que essa notificação, você pode passar uma referência nula (`Nothing` no Visual Basic) para `pendingWork` e `workItem`.</span><span class="sxs-lookup"><span data-stu-id="999aa-166">If you do not want such notification, you can pass a null reference (`Nothing` in Visual Basic) for `pendingWork` and `workItem`.</span></span>  
  
 <span data-ttu-id="999aa-167">Quando você estiver usando esse método com um fluxo de trabalho de máquina de estado, você pode receber uma exceção que contém a mensagem "fila '{0}' não está habilitada."</span><span class="sxs-lookup"><span data-stu-id="999aa-167">When you are using this method with a state machine workflow, you might get an exception that contains the message "Queue '{0}' is not enabled."</span></span> <span data-ttu-id="999aa-168">Isso ocorre quando o estado atual da máquina de estado não sabe como manipular um evento específico.</span><span class="sxs-lookup"><span data-stu-id="999aa-168">This occurs when the current state of the state machine does not know how to handle a specific event.</span></span> <span data-ttu-id="999aa-169">Por exemplo, quando algum estado que não seja o estado atual contém o <xref:System.Workflow.Activities.EventDrivenActivity> que contém o <xref:System.Workflow.Activities.HandleExternalEventActivity> que é representado pela fila '{0}'.</span><span class="sxs-lookup"><span data-stu-id="999aa-169">For example, when some state other than the current state contains the <xref:System.Workflow.Activities.EventDrivenActivity> that contains the <xref:System.Workflow.Activities.HandleExternalEventActivity> that is represented by the queue '{0}'.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="999aa-170">O exemplo a seguir demonstra o envio de informações para uma instância de fluxo de trabalho usando o `EnqueueItemOnIdle` método.</span><span class="sxs-lookup"><span data-stu-id="999aa-170">The following example demonstrates sending information to a workflow instance using the `EnqueueItemOnIdle` method.</span></span> <span data-ttu-id="999aa-171">Primeiro, um objeto WorkflowInstance é criado e iniciado; em seguida, um objeto que implementa o <xref:System.Workflow.Runtime.IPendingWork> interface é criada.</span><span class="sxs-lookup"><span data-stu-id="999aa-171">First, a WorkflowInstance object is created and started; next, an object that implements the <xref:System.Workflow.Runtime.IPendingWork> interface is created.</span></span> <span data-ttu-id="999aa-172">`EnqueueItemOnIdle` em seguida, é chamado, passando os valores de cadeia de caracteres para o nome da fila, o item enfileirado e o item de trabalho a serem passados para os métodos do objeto pendingWork.</span><span class="sxs-lookup"><span data-stu-id="999aa-172">`EnqueueItemOnIdle` is then called, passing in string values for the queue name, the enqueued item, and the work item to be passed to the methods of the pendingWork object.</span></span>  
  
 [!code-csharp[WF_Samples#12](~/samples/snippets/csharp/VS_Snippets_CFX/wf_samples/cs/snippets.cs#12)]
 [!code-vb[WF_Samples#12](~/samples/snippets/visualbasic/VS_Snippets_CFX/wf_samples/vb/snippets.vb#12)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="999aa-173">
            <paramref name="queueName" /> is a null reference (<see langword="Nothing" /> in Visual Basic).</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-173">
              <paramref name="queueName" /> is a null reference (<see langword="Nothing" /> in Visual Basic).</span>
          </span>
        </exception>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="999aa-174">The workflow runtime engine is not running.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-174">The workflow runtime engine is not running.</span>
          </span>
          <span data-ttu-id="999aa-175">-or-  The workflow instance is suspended.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-175">-or-  The workflow instance is suspended.</span>
          </span>
          <span data-ttu-id="999aa-176">-or-  The <see cref="T:System.Workflow.Runtime.WorkflowQueue" /> specified by <paramref name="queueName" /> does not exist.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-176">-or-  The <see cref="T:System.Workflow.Runtime.WorkflowQueue" /> specified by <paramref name="queueName" /> does not exist.</span>
          </span>
          <span data-ttu-id="999aa-177">-or-  The <see cref="T:System.Workflow.Runtime.WorkflowQueue" /> specified by <paramref name="queueName" /> is not enabled.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-177">-or-  The <see cref="T:System.Workflow.Runtime.WorkflowQueue" /> specified by <paramref name="queueName" /> is not enabled.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="Equals">
      <MemberSignature Language="C#" Value="public override bool Equals (object obj);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance bool Equals(object obj) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.WorkflowInstance.Equals(System.Object)" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Function Equals (obj As Object) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override bool Equals(System::Object ^ obj);" />
      <MemberSignature Language="F#" Value="override this.Equals : obj -&gt; bool" Usage="workflowInstance.Equals obj" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="obj" Type="System.Object" />
      </Parameters>
      <Docs>
        <param name="obj">
          <span data-ttu-id="999aa-178">The object to compare.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-178">The object to compare.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="999aa-179">Returns a value that indicates whether the specified object is equal to the <see cref="T:System.Workflow.Runtime.WorkflowInstance" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-179">Returns a value that indicates whether the specified object is equal to the <see cref="T:System.Workflow.Runtime.WorkflowInstance" />.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="999aa-180">
            <see langword="true" /> if the specified object is equal to this <see cref="T:System.Workflow.Runtime.WorkflowInstance" />; otherwise, <see langword="false" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-180">
              <see langword="true" /> if the specified object is equal to this <see cref="T:System.Workflow.Runtime.WorkflowInstance" />; otherwise, <see langword="false" />.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="999aa-181">O objeto deve ser uma instância das <xref:System.Workflow.Runtime.WorkflowInstance> de classe e tem o mesmo <xref:System.Workflow.Runtime.WorkflowInstance.InstanceId%2A> como isso <xref:System.Workflow.Runtime.WorkflowInstance>.</span><span class="sxs-lookup"><span data-stu-id="999aa-181">The object must be an instance of the <xref:System.Workflow.Runtime.WorkflowInstance> class and have the same <xref:System.Workflow.Runtime.WorkflowInstance.InstanceId%2A> as this <xref:System.Workflow.Runtime.WorkflowInstance>.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="GetHashCode">
      <MemberSignature Language="C#" Value="public override int GetHashCode ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance int32 GetHashCode() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.WorkflowInstance.GetHashCode" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Function GetHashCode () As Integer" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override int GetHashCode();" />
      <MemberSignature Language="F#" Value="override this.GetHashCode : unit -&gt; int" Usage="workflowInstance.GetHashCode " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="999aa-182">Returns the hash code for this workflow instance.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-182">Returns the hash code for this workflow instance.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="999aa-183">The hash code for this <see cref="T:System.Workflow.Runtime.WorkflowInstance" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-183">The hash code for this <see cref="T:System.Workflow.Runtime.WorkflowInstance" />.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="999aa-184"><xref:System.Workflow.Runtime.WorkflowInstance.GetHashCode%2A> Retorna um código hash com base no valor de <xref:System.Workflow.Runtime.WorkflowInstance.InstanceId%2A>.</span><span class="sxs-lookup"><span data-stu-id="999aa-184"><xref:System.Workflow.Runtime.WorkflowInstance.GetHashCode%2A> returns a hash code based on the value of <xref:System.Workflow.Runtime.WorkflowInstance.InstanceId%2A>.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="GetWorkflowDefinition">
      <MemberSignature Language="C#" Value="public System.Workflow.ComponentModel.Activity GetWorkflowDefinition ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Workflow.ComponentModel.Activity GetWorkflowDefinition() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.WorkflowInstance.GetWorkflowDefinition" />
      <MemberSignature Language="VB.NET" Value="Public Function GetWorkflowDefinition () As Activity" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Workflow::ComponentModel::Activity ^ GetWorkflowDefinition();" />
      <MemberSignature Language="F#" Value="member this.GetWorkflowDefinition : unit -&gt; System.Workflow.ComponentModel.Activity" Usage="workflowInstance.GetWorkflowDefinition " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Workflow.ComponentModel.Activity</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="999aa-185">Retrieves the root activity for this workflow instance.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-185">Retrieves the root activity for this workflow instance.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="999aa-186">An <see cref="T:System.Workflow.ComponentModel.Activity" /> object.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-186">An <see cref="T:System.Workflow.ComponentModel.Activity" /> object.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="999aa-187">Você pode usar a atividade raiz para navegar na hierarquia de atividade do fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="999aa-187">You can use the root activity to navigate the activity hierarchy of the workflow.</span></span>  
  
 <span data-ttu-id="999aa-188">Esse método não é thread-safe, o host deve sincronizar suas chamadas para esse método.</span><span class="sxs-lookup"><span data-stu-id="999aa-188">This method is not thread safe, so the host should synchronize its calls to this method.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="999aa-189">O exemplo a seguir demonstra o Recuperando a definição de fluxo de trabalho de uma instância de fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="999aa-189">The following example demonstrates retrieving the workflow definition from a workflow instance.</span></span>  <span data-ttu-id="999aa-190">Este exemplo é do exemplo de ordenação de SDK de máquina de estado do arquivo Mainform.cs.</span><span class="sxs-lookup"><span data-stu-id="999aa-190">This example is from the Ordering State Machine SDK sample, from the Mainform.cs file.</span></span>  <span data-ttu-id="999aa-191">Para obter mais informações, consulte o [exemplo de máquina de estado do pedido](http://msdn.microsoft.com/library/59272cf4-bc98-439c-bcfa-b66999ebce5c).</span><span class="sxs-lookup"><span data-stu-id="999aa-191">For more information, see the [Ordering State Machine Sample](http://msdn.microsoft.com/library/59272cf4-bc98-439c-bcfa-b66999ebce5c).</span></span>  
  
 [!code-csharp[WF_Samples#86](~/samples/snippets/csharp/VS_Snippets_CFX/wf_samples/cs/snippets1.cs#86)]
 [!code-vb[WF_Samples#86](~/samples/snippets/visualbasic/VS_Snippets_CFX/wf_samples/vb/snippets1.vb#86)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="GetWorkflowNextTimerExpiration">
      <MemberSignature Language="C#" Value="public DateTime GetWorkflowNextTimerExpiration ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance valuetype System.DateTime GetWorkflowNextTimerExpiration() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.WorkflowInstance.GetWorkflowNextTimerExpiration" />
      <MemberSignature Language="VB.NET" Value="Public Function GetWorkflowNextTimerExpiration () As DateTime" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; DateTime GetWorkflowNextTimerExpiration();" />
      <MemberSignature Language="F#" Value="member this.GetWorkflowNextTimerExpiration : unit -&gt; DateTime" Usage="workflowInstance.GetWorkflowNextTimerExpiration " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.DateTime</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="999aa-192">Returns the next point in time that this <see cref="T:System.Workflow.Runtime.WorkflowInstance" /> is scheduled to be delivered a timer message.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-192">Returns the next point in time that this <see cref="T:System.Workflow.Runtime.WorkflowInstance" /> is scheduled to be delivered a timer message.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="999aa-193">A DateTime value that represents the next <see cref="P:System.Workflow.Runtime.TimerEventSubscription.ExpiresAt" /> time this <see cref="T:System.Workflow.Runtime.WorkflowInstance" /> will be delivered a timer message.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-193">A DateTime value that represents the next <see cref="P:System.Workflow.Runtime.TimerEventSubscription.ExpiresAt" /> time this <see cref="T:System.Workflow.Runtime.WorkflowInstance" /> will be delivered a timer message.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Examples  
 <span data-ttu-id="999aa-194">O exemplo a seguir demonstra como usar o <xref:System.Workflow.Runtime.WorkflowInstance.GetWorkflowNextTimerExpiration%2A> método para determinar se mais mensagens de timer do fluxo de trabalho são enfileiradas.</span><span class="sxs-lookup"><span data-stu-id="999aa-194">The following example demonstrates using the <xref:System.Workflow.Runtime.WorkflowInstance.GetWorkflowNextTimerExpiration%2A> method to determine if more workflow timer messages are enqueued.</span></span> <span data-ttu-id="999aa-195">Este exemplo é do exemplo de SDK WorkflowThreading, do arquivo Program.cs.</span><span class="sxs-lookup"><span data-stu-id="999aa-195">This example is from the WorkflowThreading SDK sample, from the Program.cs file.</span></span> <span data-ttu-id="999aa-196">Para obter mais informações, consulte [exemplo de Threading de fluxo de trabalho](http://msdn.microsoft.com/library/5b650be7-09fa-47db-a2f6-523dc8ea5ee9).</span><span class="sxs-lookup"><span data-stu-id="999aa-196">For more information, see [Workflow Threading Sample](http://msdn.microsoft.com/library/5b650be7-09fa-47db-a2f6-523dc8ea5ee9).</span></span>  
  
 [!code-csharp[WF_Samples#284](~/samples/snippets/csharp/VS_Snippets_CFX/wf_samples/cs/snippets24.cs#284)]
 [!code-vb[WF_Samples#284](~/samples/snippets/visualbasic/VS_Snippets_CFX/wf_samples/vb/snippets24.vb#284)]  
  
 ]]></format>
        </remarks>
        <altmember cref="T:System.Workflow.Runtime.TimerEventSubscription" />
      </Docs>
    </Member>
    <Member MemberName="GetWorkflowQueueData">
      <MemberSignature Language="C#" Value="public System.Collections.ObjectModel.ReadOnlyCollection&lt;System.Workflow.Runtime.WorkflowQueueInfo&gt; GetWorkflowQueueData ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Collections.ObjectModel.ReadOnlyCollection`1&lt;class System.Workflow.Runtime.WorkflowQueueInfo&gt; GetWorkflowQueueData() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.WorkflowInstance.GetWorkflowQueueData" />
      <MemberSignature Language="VB.NET" Value="Public Function GetWorkflowQueueData () As ReadOnlyCollection(Of WorkflowQueueInfo)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Collections::ObjectModel::ReadOnlyCollection&lt;System::Workflow::Runtime::WorkflowQueueInfo ^&gt; ^ GetWorkflowQueueData();" />
      <MemberSignature Language="F#" Value="member this.GetWorkflowQueueData : unit -&gt; System.Collections.ObjectModel.ReadOnlyCollection&lt;System.Workflow.Runtime.WorkflowQueueInfo&gt;" Usage="workflowInstance.GetWorkflowQueueData " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Collections.ObjectModel.ReadOnlyCollection&lt;System.Workflow.Runtime.WorkflowQueueInfo&gt;</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="999aa-197">Gets a collection of <see cref="T:System.Workflow.Runtime.WorkflowQueueInfo" /> objects that contains the pending items and subscribed activities for the workflow queues associated with this workflow instance.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-197">Gets a collection of <see cref="T:System.Workflow.Runtime.WorkflowQueueInfo" /> objects that contains the pending items and subscribed activities for the workflow queues associated with this workflow instance.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="999aa-198">A <see cref="T:System.Collections.ObjectModel.ReadOnlyCollection`1" /> of <see cref="T:System.Workflow.Runtime.WorkflowQueueInfo" /> objects.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-198">A <see cref="T:System.Collections.ObjectModel.ReadOnlyCollection`1" /> of <see cref="T:System.Workflow.Runtime.WorkflowQueueInfo" /> objects.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="999aa-199"><xref:System.Workflow.Runtime.WorkflowInstance.GetWorkflowQueueData%2A> Retorna uma coleção de <xref:System.Workflow.Runtime.WorkflowQueueInfo> objetos, cada uma delas contém informações sobre o estado de uma das filas de fluxo de trabalho associadas com essa instância de fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="999aa-199"><xref:System.Workflow.Runtime.WorkflowInstance.GetWorkflowQueueData%2A> returns a collection of <xref:System.Workflow.Runtime.WorkflowQueueInfo> objects, each of which contains information about the state of one of the workflow queues associated with this workflow instance.</span></span> <span data-ttu-id="999aa-200"><xref:System.Workflow.Runtime.WorkflowQueueInfo.Items%2A?displayProperty=nameWithType> contém os itens pendentes para um <xref:System.Workflow.Runtime.WorkflowQueue> e <xref:System.Workflow.Runtime.WorkflowQueueInfo.SubscribedActivityNames%2A?displayProperty=nameWithType> contém uma lista das atividades que estão inscritos para entrega do item em um <xref:System.Workflow.Runtime.WorkflowQueue>.</span><span class="sxs-lookup"><span data-stu-id="999aa-200"><xref:System.Workflow.Runtime.WorkflowQueueInfo.Items%2A?displayProperty=nameWithType> contains the pending items for a <xref:System.Workflow.Runtime.WorkflowQueue> and <xref:System.Workflow.Runtime.WorkflowQueueInfo.SubscribedActivityNames%2A?displayProperty=nameWithType> contains a list of the activities that are subscribed for item delivery on a <xref:System.Workflow.Runtime.WorkflowQueue>.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="999aa-201">O exemplo de código a seguir demonstra como você pode usar o <xref:System.Workflow.Runtime.WorkflowInstance.GetWorkflowQueueData%2A> método para obter informações sobre o estado de todas as filas de fluxo de trabalho associado com um <xref:System.Workflow.Runtime.WorkflowInstance> objeto.</span><span class="sxs-lookup"><span data-stu-id="999aa-201">The following code example demonstrates how you can use the <xref:System.Workflow.Runtime.WorkflowInstance.GetWorkflowQueueData%2A> method to obtain information about the state of all workflow queues associated with a <xref:System.Workflow.Runtime.WorkflowInstance> object.</span></span> <span data-ttu-id="999aa-202">Quando o <xref:System.Workflow.Runtime.WorkflowRuntime.WorkflowIdled> evento ocorrer, o `OnWorkflowIdled` definido neste exemplo do método é chamado.</span><span class="sxs-lookup"><span data-stu-id="999aa-202">When the <xref:System.Workflow.Runtime.WorkflowRuntime.WorkflowIdled> event occurs, the `OnWorkflowIdled` method defined in this example is called.</span></span> <span data-ttu-id="999aa-203">Ele determina qual fluxo de trabalho está ocioso usando o <xref:System.Workflow.Runtime.WorkflowEventArgs.WorkflowInstance%2A> propriedade e, em seguida, obtém uma coleção de itens em fila para o fluxo de trabalho instância chamando o <xref:System.Workflow.Runtime.WorkflowInstance.GetWorkflowQueueData%2A> método.</span><span class="sxs-lookup"><span data-stu-id="999aa-203">It determines which workflow is idled using the <xref:System.Workflow.Runtime.WorkflowEventArgs.WorkflowInstance%2A> property and then gets a collection of queued items for the workflow instance by calling the <xref:System.Workflow.Runtime.WorkflowInstance.GetWorkflowQueueData%2A> method.</span></span> <span data-ttu-id="999aa-204">O código itera na coleção para determinar qual atividade está aguardando o evento que é rodado em marcha lento o fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="999aa-204">The code iterates over the collection to determine which activity is waiting for the event that idled the workflow.</span></span> <span data-ttu-id="999aa-205">Ele envia uma exceção para a fila de fluxo de trabalho usando o <xref:System.Workflow.Runtime.WorkflowInstance.EnqueueItem%2A> método junto com o nome do item da fila de eventos.</span><span class="sxs-lookup"><span data-stu-id="999aa-205">It then sends an exception to the workflow queue using the <xref:System.Workflow.Runtime.WorkflowInstance.EnqueueItem%2A> method along with the name of the event queue item.</span></span>  
  
 <span data-ttu-id="999aa-206">Este exemplo de código é parte do cancelar um SDK de fluxo de trabalho de exemplo do arquivo Program.cs.</span><span class="sxs-lookup"><span data-stu-id="999aa-206">This code example is part of the Canceling a Workflow SDK sample from the Program.cs file.</span></span> <span data-ttu-id="999aa-207">Para obter mais informações, consulte [Cancelando um fluxo de trabalho](http://msdn.microsoft.com/library/d5077f56-a78b-48e7-825c-f6c77c8e54fb).</span><span class="sxs-lookup"><span data-stu-id="999aa-207">For more information, see [Canceling a Workflow](http://msdn.microsoft.com/library/d5077f56-a78b-48e7-825c-f6c77c8e54fb).</span></span>  
  
 [!code-csharp[WF_Samples#261](~/samples/snippets/csharp/VS_Snippets_CFX/wf_samples/cs/snippets24.cs#261)]
 [!code-vb[WF_Samples#261](~/samples/snippets/visualbasic/VS_Snippets_CFX/wf_samples/vb/snippets24.vb#261)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="999aa-208">The workflow runtime engine is not running.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-208">The workflow runtime engine is not running.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="InstanceId">
      <MemberSignature Language="C#" Value="public Guid InstanceId { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance valuetype System.Guid InstanceId" />
      <MemberSignature Language="DocId" Value="P:System.Workflow.Runtime.WorkflowInstance.InstanceId" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property InstanceId As Guid" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property Guid InstanceId { Guid get(); };" />
      <MemberSignature Language="F#" Value="member this.InstanceId : Guid" Usage="System.Workflow.Runtime.WorkflowInstance.InstanceId" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Guid</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="999aa-209">Gets the unique identifier for the workflow instance.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-209">Gets the unique identifier for the workflow instance.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="999aa-210">O <see cref="T:System.Guid" /> da instância de fluxo de trabalho.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-210">The <see cref="T:System.Guid" /> of the workflow instance.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="999aa-211">Você pode usar <xref:System.Workflow.Runtime.WorkflowInstance.InstanceId%2A> para fazer referência à instância de fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="999aa-211">You can use <xref:System.Workflow.Runtime.WorkflowInstance.InstanceId%2A> to reference the workflow instance.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="999aa-212">O exemplo de código a seguir demonstra como você pode usar o <xref:System.Workflow.Runtime.WorkflowInstance.InstanceId%2A> propriedade para obter informações sobre um <xref:System.Workflow.Runtime.WorkflowInstance> objeto.</span><span class="sxs-lookup"><span data-stu-id="999aa-212">The following code example demonstrates how you can use the <xref:System.Workflow.Runtime.WorkflowInstance.InstanceId%2A> property to obtain information about a <xref:System.Workflow.Runtime.WorkflowInstance> object.</span></span> <span data-ttu-id="999aa-213">O primeiro trecho de código cria um <xref:System.Workflow.Runtime.WorkflowInstance> variável chamada `instanceId`.</span><span class="sxs-lookup"><span data-stu-id="999aa-213">The first code snippet creates a <xref:System.Workflow.Runtime.WorkflowInstance> variable named `instanceId`.</span></span>  
  
 [!code-csharp[WF_Samples#210](~/samples/snippets/csharp/VS_Snippets_CFX/wf_samples/cs/snippets19.cs#210)]
 [!code-vb[WF_Samples#210](~/samples/snippets/visualbasic/VS_Snippets_CFX/wf_samples/vb/snippets19.vb#210)]  
  
 <span data-ttu-id="999aa-214">O segundo trecho de código usa o <xref:System.Workflow.Runtime.WorkflowInstance.InstanceId%2A> a propriedade como o primeiro objeto um `OrderEventArgs` construtor chamar quando o `CallBackForApproval` método é chamado.</span><span class="sxs-lookup"><span data-stu-id="999aa-214">The second snippet uses the <xref:System.Workflow.Runtime.WorkflowInstance.InstanceId%2A> property as the first object in an `OrderEventArgs` constructor call when the `CallBackForApproval` method is called.</span></span>  
  
 <span data-ttu-id="999aa-215">Este exemplo de código é parte do exemplo de SDK escutar do arquivo OrderServiceImple.cs.</span><span class="sxs-lookup"><span data-stu-id="999aa-215">This code example is part of the Listen SDK Sample from the OrderServiceImple.cs file.</span></span> <span data-ttu-id="999aa-216">Para obter mais informações, consulte [escutar exemplo](http://msdn.microsoft.com/library/1cec0e82-7544-429f-b717-0fc25eb42b7f).</span><span class="sxs-lookup"><span data-stu-id="999aa-216">For more information, see [Listen Sample](http://msdn.microsoft.com/library/1cec0e82-7544-429f-b717-0fc25eb42b7f).</span></span>  
  
 [!code-csharp[WF_Samples#211](~/samples/snippets/csharp/VS_Snippets_CFX/wf_samples/cs/snippets19.cs#211)]
 [!code-vb[WF_Samples#211](~/samples/snippets/visualbasic/VS_Snippets_CFX/wf_samples/vb/snippets19.vb#211)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="Load">
      <MemberSignature Language="C#" Value="public void Load ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void Load() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.WorkflowInstance.Load" />
      <MemberSignature Language="VB.NET" Value="Public Sub Load ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void Load();" />
      <MemberSignature Language="F#" Value="member this.Load : unit -&gt; unit" Usage="workflowInstance.Load " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="999aa-217">Loads a previously unloaded workflow instance.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-217">Loads a previously unloaded workflow instance.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="999aa-218"><xref:System.Workflow.Runtime.WorkflowInstance.Load%2A> é síncrona; Se a instância de fluxo de trabalho pode ser carregada, <xref:System.Workflow.Runtime.WorkflowInstance.Load%2A> retornará depois que a instância de fluxo de trabalho foi carregado na memória e agendada pelo mecanismo de tempo de execução de fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="999aa-218"><xref:System.Workflow.Runtime.WorkflowInstance.Load%2A> is synchronous; if the workflow instance can be loaded, <xref:System.Workflow.Runtime.WorkflowInstance.Load%2A> will return after the workflow instance has been loaded into memory and scheduled by the workflow runtime engine.</span></span> <span data-ttu-id="999aa-219">O tempo de execução gera o <xref:System.Workflow.Runtime.WorkflowRuntime.WorkflowLoaded> depois que o serviço de persistência tiver restaurado a instância de fluxo de trabalho na memória, mas antes do fluxo de trabalho o mecanismo de tempo de execução agenda a instância de evento.</span><span class="sxs-lookup"><span data-stu-id="999aa-219">The runtime raises the <xref:System.Workflow.Runtime.WorkflowRuntime.WorkflowLoaded> event after the persistence service has restored the workflow instance in memory, but before the workflow runtime engine schedules the instance.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="999aa-220">O exemplo a seguir demonstra como carregar descarregada anteriormente <xref:System.Workflow.Runtime.WorkflowInstance> objeto.</span><span class="sxs-lookup"><span data-stu-id="999aa-220">The following example demonstrates how to load a previously unloaded <xref:System.Workflow.Runtime.WorkflowInstance> object.</span></span>  
  
 [!code-csharp[WF_Samples#10](~/samples/snippets/csharp/VS_Snippets_CFX/wf_samples/cs/snippets.cs#10)]
 [!code-vb[WF_Samples#10](~/samples/snippets/visualbasic/VS_Snippets_CFX/wf_samples/vb/snippets.vb#10)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="999aa-221">The workflow runtime engine is not running.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-221">The workflow runtime engine is not running.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="ReloadTrackingProfiles">
      <MemberSignature Language="C#" Value="public void ReloadTrackingProfiles ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void ReloadTrackingProfiles() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.WorkflowInstance.ReloadTrackingProfiles" />
      <MemberSignature Language="VB.NET" Value="Public Sub ReloadTrackingProfiles ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void ReloadTrackingProfiles();" />
      <MemberSignature Language="F#" Value="member this.ReloadTrackingProfiles : unit -&gt; unit" Usage="workflowInstance.ReloadTrackingProfiles " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="999aa-222">Reload the tracking profiles for this workflow instance.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-222">Reload the tracking profiles for this workflow instance.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="999aa-223">Infraestrutura de acompanhamento de tempo de execução será recarregado cada <xref:System.Workflow.Runtime.Tracking.TrackingProfile> para esta instância de fluxo de trabalho associada com seus canais de controle.</span><span class="sxs-lookup"><span data-stu-id="999aa-223">The runtime tracking infrastructure will reload each <xref:System.Workflow.Runtime.Tracking.TrackingProfile> for this workflow instance associated with its tracking channels.</span></span> <span data-ttu-id="999aa-224">Se ainda não estiver em um estado suspenso, o fluxo de trabalho será temporariamente suspenso pelo tempo de execução de infra-estrutura de controle, enquanto os perfis de acompanhamento são recarregados.</span><span class="sxs-lookup"><span data-stu-id="999aa-224">If it is not already in a suspended state, the workflow is temporarily suspended by the runtime tracking infrastructure while the tracking profiles are reloaded.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="999aa-225">The workflow runtime engine is not running.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-225">The workflow runtime engine is not running.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="Resume">
      <MemberSignature Language="C#" Value="public void Resume ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void Resume() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.WorkflowInstance.Resume" />
      <MemberSignature Language="VB.NET" Value="Public Sub Resume ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void Resume();" />
      <MemberSignature Language="F#" Value="member this.Resume : unit -&gt; unit" Usage="workflowInstance.Resume " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="999aa-226">Resumes execution of a previously suspended workflow instance.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-226">Resumes execution of a previously suspended workflow instance.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="999aa-227">O host pode chamar <xref:System.Workflow.Runtime.WorkflowInstance.Resume%2A> para retomar a execução de uma instância de fluxo de trabalho que tenha sido suspenso.</span><span class="sxs-lookup"><span data-stu-id="999aa-227">The host can call <xref:System.Workflow.Runtime.WorkflowInstance.Resume%2A> to resume execution of a workflow instance that has been previously suspended.</span></span> <span data-ttu-id="999aa-228">Se a instância de fluxo de trabalho não estiver no estado suspenso, nenhuma ação é executada.</span><span class="sxs-lookup"><span data-stu-id="999aa-228">If the workflow instance is not in the suspended state, no action is taken.</span></span> <span data-ttu-id="999aa-229">O tempo de execução gera o <xref:System.Workflow.Runtime.WorkflowRuntime.WorkflowResumed> evento antes que a execução da instância do fluxo de trabalho é retomada.</span><span class="sxs-lookup"><span data-stu-id="999aa-229">The runtime raises the <xref:System.Workflow.Runtime.WorkflowRuntime.WorkflowResumed> event just before execution of the workflow instance is resumed.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="999aa-230">O exemplo a seguir demonstra a chamada de retomada em uma instância de fluxo de trabalho suspenso anteriormente.</span><span class="sxs-lookup"><span data-stu-id="999aa-230">The following example demonstrates calling Resume on a previously suspended workflow instance.</span></span>  <span data-ttu-id="999aa-231">Este exemplo é do exemplo de suspender e encerrar o SDK.</span><span class="sxs-lookup"><span data-stu-id="999aa-231">This example is from the Suspend and Terminate SDK sample.</span></span>  <span data-ttu-id="999aa-232">Para obter mais informações, consulte [suspender e encerrar exemplo](http://msdn.microsoft.com/library/f4dffa58-d01e-44fb-b5a1-3b283d2c4517).</span><span class="sxs-lookup"><span data-stu-id="999aa-232">For more information, see [Suspend and Terminate Sample](http://msdn.microsoft.com/library/f4dffa58-d01e-44fb-b5a1-3b283d2c4517).</span></span>  
  
 [!code-csharp[WF_Samples#172](~/samples/snippets/csharp/VS_Snippets_CFX/wf_samples/cs/snippets11.cs#172)]
 [!code-vb[WF_Samples#172](~/samples/snippets/visualbasic/VS_Snippets_CFX/wf_samples/vb/snippets11.vb#172)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="999aa-233">The workflow runtime engine is not running.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-233">The workflow runtime engine is not running.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="Start">
      <MemberSignature Language="C#" Value="public void Start ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void Start() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.WorkflowInstance.Start" />
      <MemberSignature Language="VB.NET" Value="Public Sub Start ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void Start();" />
      <MemberSignature Language="F#" Value="member this.Start : unit -&gt; unit" Usage="workflowInstance.Start " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="999aa-234">Starts the execution of the workflow instance.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-234">Starts the execution of the workflow instance.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="999aa-235"><xref:System.Workflow.Runtime.WorkflowInstance.Start%2A> chamadas <xref:System.Workflow.ComponentModel.ActivityExecutionContext.ExecuteActivity%2A> na atividade raiz desta instância de fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="999aa-235"><xref:System.Workflow.Runtime.WorkflowInstance.Start%2A> calls <xref:System.Workflow.ComponentModel.ActivityExecutionContext.ExecuteActivity%2A> on the root activity of this workflow instance.</span></span> <span data-ttu-id="999aa-236">Se <xref:System.Workflow.Runtime.WorkflowInstance.Start%2A> encontra uma exceção, ele encerra a instância de fluxo de trabalho chamando <xref:System.Workflow.Runtime.WorkflowInstance.Terminate%2A> com o <xref:System.Exception.Message%2A> propriedade da exceção passada como o motivo de encerramento.</span><span class="sxs-lookup"><span data-stu-id="999aa-236">If <xref:System.Workflow.Runtime.WorkflowInstance.Start%2A> encounters an exception, it terminates the workflow instance by calling <xref:System.Workflow.Runtime.WorkflowInstance.Terminate%2A> with the <xref:System.Exception.Message%2A> property of the exception passed as the reason for the termination.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="999aa-237">O exemplo de código a seguir demonstra como você pode usar o <xref:System.Workflow.Runtime.WorkflowInstance.Start%2A> método para iniciar um <xref:System.Workflow.Runtime.WorkflowInstance> em um host de fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="999aa-237">The following code example demonstrates how you can use the <xref:System.Workflow.Runtime.WorkflowInstance.Start%2A> method to start a <xref:System.Workflow.Runtime.WorkflowInstance> in a workflow host.</span></span> <span data-ttu-id="999aa-238">O código cria uma instância das <xref:System.Workflow.Runtime.WorkflowRuntime>, adiciona serviços ao tempo de execução e, em seguida, demonstra a maneira recomendada para criar um <xref:System.Workflow.Runtime.WorkflowInstance> objeto.</span><span class="sxs-lookup"><span data-stu-id="999aa-238">The code creates an instance of the <xref:System.Workflow.Runtime.WorkflowRuntime>, adds services to the runtime, and then demonstrates the recommended way to create a <xref:System.Workflow.Runtime.WorkflowInstance> object.</span></span> <span data-ttu-id="999aa-239">Ele cria um <xref:System.Type> do objeto e a converte para um dos objetos de fluxo de trabalho ao qual o host está associado.</span><span class="sxs-lookup"><span data-stu-id="999aa-239">It creates a <xref:System.Type> object and casts it to one of the workflow objects with which the host is associated.</span></span> <span data-ttu-id="999aa-240">O código a seguir inicializa <xref:System.Workflow.Runtime.WorkflowInstance> chamando o <xref:System.Workflow.Runtime.WorkflowRuntime.CreateWorkflow%2A> método e passando o tipo criado anteriormente para ele.</span><span class="sxs-lookup"><span data-stu-id="999aa-240">The code next initializes <xref:System.Workflow.Runtime.WorkflowInstance> by calling the <xref:System.Workflow.Runtime.WorkflowRuntime.CreateWorkflow%2A> method and passing the previously created type to it.</span></span> <span data-ttu-id="999aa-241">O <xref:System.Workflow.Runtime.WorkflowInstance> é iniciado com o <xref:System.Workflow.Runtime.WorkflowInstance.Start%2A> chamada de método.</span><span class="sxs-lookup"><span data-stu-id="999aa-241">The <xref:System.Workflow.Runtime.WorkflowInstance> is started with the <xref:System.Workflow.Runtime.WorkflowInstance.Start%2A> method call.</span></span>  
  
 <span data-ttu-id="999aa-242">Este exemplo de código é parte do cancelar um SDK de fluxo de trabalho de exemplo do arquivo Program.cs.</span><span class="sxs-lookup"><span data-stu-id="999aa-242">This code example is part of the Canceling a Workflow SDK sample from the Program.cs file.</span></span> <span data-ttu-id="999aa-243">Para obter mais informações, consulte [Cancelando um fluxo de trabalho](http://msdn.microsoft.com/library/d5077f56-a78b-48e7-825c-f6c77c8e54fb).</span><span class="sxs-lookup"><span data-stu-id="999aa-243">For more information, see [Canceling a Workflow](http://msdn.microsoft.com/library/d5077f56-a78b-48e7-825c-f6c77c8e54fb).</span></span>  
  
 [!code-csharp[WF_Samples#260](~/samples/snippets/csharp/VS_Snippets_CFX/wf_samples/cs/snippets24.cs#260)]
 [!code-vb[WF_Samples#260](~/samples/snippets/visualbasic/VS_Snippets_CFX/wf_samples/vb/snippets24.vb#260)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="999aa-244">The workflow runtime engine is not running.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-244">The workflow runtime engine is not running.</span>
          </span>
          <span data-ttu-id="999aa-245">-or-  The workflow instance has already been started.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-245">-or-  The workflow instance has already been started.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="Suspend">
      <MemberSignature Language="C#" Value="public void Suspend (string error);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void Suspend(string error) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.WorkflowInstance.Suspend(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Sub Suspend (error As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void Suspend(System::String ^ error);" />
      <MemberSignature Language="F#" Value="member this.Suspend : string -&gt; unit" Usage="workflowInstance.Suspend error" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="error" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="error">
          <span data-ttu-id="999aa-246">A description of the reason for suspending the workflow instance.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-246">A description of the reason for suspending the workflow instance.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="999aa-247">Suspends the workflow instance.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-247">Suspends the workflow instance.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="999aa-248">A instância de fluxo de trabalho é suspensa de forma síncrona.</span><span class="sxs-lookup"><span data-stu-id="999aa-248">The workflow instance is suspended in a synchronous manner.</span></span> <span data-ttu-id="999aa-249">Se a instância de fluxo de trabalho já está suspenso, nenhuma ação será executada; Caso contrário, o mecanismo de tempo de execução do fluxo de trabalho suspende a instância de fluxo de trabalho, gera o <xref:System.Workflow.Runtime.WorkflowRuntime.WorkflowSuspended> evento e passa `reason` em um <xref:System.Workflow.Runtime.WorkflowSuspendedEventArgs>.</span><span class="sxs-lookup"><span data-stu-id="999aa-249">If the workflow instance is already suspended, no action is taken; otherwise, the workflow runtime engine suspends the workflow instance, raises the <xref:System.Workflow.Runtime.WorkflowRuntime.WorkflowSuspended> event and passes `reason` in a <xref:System.Workflow.Runtime.WorkflowSuspendedEventArgs>.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="999aa-250"><xref:System.Workflow.Runtime.WorkflowInstance.Suspend%2A> não descarrega a instância de fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="999aa-250"><xref:System.Workflow.Runtime.WorkflowInstance.Suspend%2A> does not unload the workflow instance.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="999aa-251">O exemplo de código a seguir demonstra a chamada de suspensão em uma <xref:System.Workflow.Runtime.WorkflowInstance> objeto.</span><span class="sxs-lookup"><span data-stu-id="999aa-251">The following code example demonstrates calling Suspend on a <xref:System.Workflow.Runtime.WorkflowInstance> object.</span></span>  
  
 [!code-csharp[WF_Samples#9](~/samples/snippets/csharp/VS_Snippets_CFX/wf_samples/cs/snippets.cs#9)]
 [!code-vb[WF_Samples#9](~/samples/snippets/visualbasic/VS_Snippets_CFX/wf_samples/vb/snippets.vb#9)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="999aa-252">The workflow runtime engine is not running.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-252">The workflow runtime engine is not running.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="Terminate">
      <MemberSignature Language="C#" Value="public void Terminate (string error);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void Terminate(string error) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.WorkflowInstance.Terminate(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Sub Terminate (error As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void Terminate(System::String ^ error);" />
      <MemberSignature Language="F#" Value="member this.Terminate : string -&gt; unit" Usage="workflowInstance.Terminate error" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="error" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="error">
          <span data-ttu-id="999aa-253">A description of the reason for terminating the workflow instance.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-253">A description of the reason for terminating the workflow instance.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="999aa-254">Terminates the workflow instance in a synchronous manner.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-254">Terminates the workflow instance in a synchronous manner.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="999aa-255">A instância de fluxo de trabalho é encerrada de forma síncrona.</span><span class="sxs-lookup"><span data-stu-id="999aa-255">The workflow instance is terminated in a synchronous manner.</span></span> <span data-ttu-id="999aa-256">O host chama <xref:System.Workflow.Runtime.WorkflowInstance.Terminate%2A> para encerrar a instância de fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="999aa-256">The host calls <xref:System.Workflow.Runtime.WorkflowInstance.Terminate%2A> to terminate the workflow instance.</span></span> <span data-ttu-id="999aa-257">O mecanismo de tempo de execução do fluxo de trabalho limpa a instância de fluxo de trabalho na memória e informa o serviço de persistência que a instância foi limpo da memória.</span><span class="sxs-lookup"><span data-stu-id="999aa-257">The workflow runtime engine clears the in-memory workflow instance and informs the persistence service that the instance has been cleared from memory.</span></span> <span data-ttu-id="999aa-258">Para o <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService>, isso significa que todas as informações de estado para essa instância de fluxo de trabalho seja excluídas do banco de dados após a rescisão.</span><span class="sxs-lookup"><span data-stu-id="999aa-258">For the <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService>, this means that all state information for that workflow instance is deleted from the database upon termination.</span></span> <span data-ttu-id="999aa-259">Você não poderá recarregar a instância de fluxo de trabalho de um ponto de persistência armazenadas anteriormente.</span><span class="sxs-lookup"><span data-stu-id="999aa-259">You will not be able to reload the workflow instance from a previously stored persistence point.</span></span>  
  
 <span data-ttu-id="999aa-260">Depois que a instância de fluxo de trabalho na memória está desmarcada e o serviço de persistência é informado sobre o encerramento, o `Terminate` método gera a <xref:System.Workflow.Runtime.WorkflowRuntime.WorkflowTerminated> eventos e passa `reason` no <xref:System.Exception.Message%2A> propriedade de um <xref:System.Workflow.ComponentModel.WorkflowTerminatedException> contido no <xref:System.Workflow.Runtime.WorkflowTerminatedEventArgs>.</span><span class="sxs-lookup"><span data-stu-id="999aa-260">After the in-memory workflow instance is cleared and the persistence service is informed of the termination, the `Terminate` method raises the <xref:System.Workflow.Runtime.WorkflowRuntime.WorkflowTerminated> event and passes `reason` in the <xref:System.Exception.Message%2A> property of a <xref:System.Workflow.ComponentModel.WorkflowTerminatedException> contained in the <xref:System.Workflow.Runtime.WorkflowTerminatedEventArgs>.</span></span>  
  
 <span data-ttu-id="999aa-261">`Terminate` é diferente da <xref:System.Workflow.Runtime.WorkflowInstance.Abort%2A> em que, embora Terminate limpa a instância de fluxo de trabalho na memória e informa o serviço de persistência do encerramento, `Abort` simplesmente limpa a instância de fluxo de trabalho na memória, que, em seguida, pode ser reiniciada desde os últimos ponto de persistência.</span><span class="sxs-lookup"><span data-stu-id="999aa-261">`Terminate` is different from <xref:System.Workflow.Runtime.WorkflowInstance.Abort%2A> in that while Terminate clears the in-memory workflow instance and informs the persistence service of the termination, `Abort` simply clears the in-memory workflow instance, which can then be restarted from the last persistence point.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="999aa-262">O exemplo de código a seguir demonstra Terminate chamada em um <xref:System.Workflow.Runtime.WorkflowInstance> objeto.</span><span class="sxs-lookup"><span data-stu-id="999aa-262">The following code example demonstrates calling Terminate on a <xref:System.Workflow.Runtime.WorkflowInstance> object.</span></span>  
  
 [!code-csharp[WF_Samples#8](~/samples/snippets/csharp/VS_Snippets_CFX/wf_samples/cs/snippets.cs#8)]
 [!code-vb[WF_Samples#8](~/samples/snippets/visualbasic/VS_Snippets_CFX/wf_samples/vb/snippets.vb#8)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="999aa-263">The workflow runtime engine is not running.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-263">The workflow runtime engine is not running.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="TryUnload">
      <MemberSignature Language="C#" Value="public bool TryUnload ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance bool TryUnload() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.WorkflowInstance.TryUnload" />
      <MemberSignature Language="VB.NET" Value="Public Function TryUnload () As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; bool TryUnload();" />
      <MemberSignature Language="F#" Value="member this.TryUnload : unit -&gt; bool" Usage="workflowInstance.TryUnload " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="999aa-264">Unloads the workflow instance from memory to the persistence store when the instance is suspended or idle.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-264">Unloads the workflow instance from memory to the persistence store when the instance is suspended or idle.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="999aa-265">
            <see langword="true" /> if the workflow instance was unloaded; otherwise, <see langword="false" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-265">
              <see langword="true" /> if the workflow instance was unloaded; otherwise, <see langword="false" />.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="999aa-266">Se a instância de fluxo de trabalho estiver ocioso ou suspenso, <xref:System.Workflow.Runtime.WorkflowInstance.TryUnload%2A> usa o serviço de persistência para remover a instância de fluxo de trabalho da memória e mantê-lo para um armazenamento de dados.</span><span class="sxs-lookup"><span data-stu-id="999aa-266">If the workflow instance is idle or suspended, <xref:System.Workflow.Runtime.WorkflowInstance.TryUnload%2A> uses the persistence service to remove the workflow instance from memory and persist it to a data store.</span></span> <span data-ttu-id="999aa-267">Se não houver nenhum serviço de persistência registrado com o <xref:System.Workflow.Runtime.WorkflowRuntime>, <xref:System.Workflow.Runtime.WorkflowInstance.TryUnload%2A> lança um <xref:System.InvalidOperationException>.</span><span class="sxs-lookup"><span data-stu-id="999aa-267">If there is no persistence service registered with the <xref:System.Workflow.Runtime.WorkflowRuntime>, <xref:System.Workflow.Runtime.WorkflowInstance.TryUnload%2A> throws an <xref:System.InvalidOperationException>.</span></span> <span data-ttu-id="999aa-268">Se a instância de fluxo de trabalho é persistida com êxito, o tempo de execução gera o <xref:System.Workflow.Runtime.WorkflowRuntime.WorkflowUnloaded> evento e retorna `true`.</span><span class="sxs-lookup"><span data-stu-id="999aa-268">If the workflow instance is successfully persisted, the runtime raises the <xref:System.Workflow.Runtime.WorkflowRuntime.WorkflowUnloaded> event, and returns `true`.</span></span> <span data-ttu-id="999aa-269"><xref:System.Workflow.Runtime.WorkflowInstance.Unload%2A> Retorna `false` se a instância de fluxo de trabalho já foi descarregada, foi encerrada, foi anulada ou já foi concluída.</span><span class="sxs-lookup"><span data-stu-id="999aa-269"><xref:System.Workflow.Runtime.WorkflowInstance.Unload%2A> returns `false` if the workflow instance has already been unloaded, has been terminated, has been aborted, or has already completed.</span></span>  
  
 <span data-ttu-id="999aa-270">O host pode usar <xref:System.Workflow.Runtime.WorkflowInstance.TryUnload%2A> recuperar recursos de sistema de um fluxo de trabalho ocioso.</span><span class="sxs-lookup"><span data-stu-id="999aa-270">The host can use <xref:System.Workflow.Runtime.WorkflowInstance.TryUnload%2A> to reclaim system resources from an idle workflow.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="999aa-271">O exemplo a seguir demonstra como usar o método TryUnload para descarregar um fluxo de trabalho quando o <xref:System.Workflow.Runtime.WorkflowRuntime.WorkflowIdled> evento é acionado.</span><span class="sxs-lookup"><span data-stu-id="999aa-271">The following example demonstrates using the TryUnload method to unload a workflow when the <xref:System.Workflow.Runtime.WorkflowRuntime.WorkflowIdled> event fires.</span></span> <span data-ttu-id="999aa-272">Este exemplo é de exemplo usando o SDK de serviços de persistência, do arquivo Program.cs.</span><span class="sxs-lookup"><span data-stu-id="999aa-272">This example is from the Using Persistence Services SDK sample, from the Program.cs file.</span></span> <span data-ttu-id="999aa-273">Para obter mais informações, consulte [exemplo de serviços de persistência usando](http://msdn.microsoft.com/library/3176b7e7-ae49-4d5c-802b-85032d6ebde6).</span><span class="sxs-lookup"><span data-stu-id="999aa-273">For more information, see [Using Persistence Services Sample](http://msdn.microsoft.com/library/3176b7e7-ae49-4d5c-802b-85032d6ebde6).</span></span>  
  
 [!code-csharp[WF_Samples#280](~/samples/snippets/csharp/VS_Snippets_CFX/wf_samples/cs/snippets24.cs#280)]
 [!code-vb[WF_Samples#280](~/samples/snippets/visualbasic/VS_Snippets_CFX/wf_samples/vb/snippets24.vb#280)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="999aa-274">There is no persistence service registered with the workflow runtime engine.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-274">There is no persistence service registered with the workflow runtime engine.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="Unload">
      <MemberSignature Language="C#" Value="public void Unload ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void Unload() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.WorkflowInstance.Unload" />
      <MemberSignature Language="VB.NET" Value="Public Sub Unload ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void Unload();" />
      <MemberSignature Language="F#" Value="member this.Unload : unit -&gt; unit" Usage="workflowInstance.Unload " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="999aa-275">Unloads the workflow instance from memory to the persistence store.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-275">Unloads the workflow instance from memory to the persistence store.</span>
          </span>
          <span data-ttu-id="999aa-276">This call blocks until after the currently scheduled work is finished, or the end of a transaction scope.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-276">This call blocks until after the currently scheduled work is finished, or the end of a transaction scope.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="999aa-277"><xref:System.Workflow.Runtime.WorkflowInstance.Unload%2A> é síncrona; ou seja, ele retorna depois de concluir qualquer ação que ele executa.</span><span class="sxs-lookup"><span data-stu-id="999aa-277"><xref:System.Workflow.Runtime.WorkflowInstance.Unload%2A> is synchronous; that is, it returns after completing any action that it performs.</span></span> <span data-ttu-id="999aa-278">Se a instância de fluxo de trabalho não estiver ociosa, o tempo de execução aguarda até que a instância pode ser interrompida.</span><span class="sxs-lookup"><span data-stu-id="999aa-278">If the workflow instance is not idle, the runtime waits until the instance can be interrupted.</span></span> <span data-ttu-id="999aa-279">Uma instância pode ser interrompida somente após o item de trabalho agendado no momento; Isso é, normalmente, quando a atividade atualmente em execução retorna da sua <xref:System.Workflow.ComponentModel.Activity.Execute%2A> método.</span><span class="sxs-lookup"><span data-stu-id="999aa-279">An instance can only be interrupted after the currently scheduled work item completes; this is typically when the currently running Activity returns from its <xref:System.Workflow.ComponentModel.Activity.Execute%2A> method.</span></span> <span data-ttu-id="999aa-280">No entanto, se a instância está executando um <xref:System.Workflow.ComponentModel.TransactionScopeActivity>, o escopo da transação deve concluir a execução antes que a instância pode ser interrompida.</span><span class="sxs-lookup"><span data-stu-id="999aa-280">However, if the instance is executing a <xref:System.Workflow.ComponentModel.TransactionScopeActivity>, the transaction scope must complete execution before the instance can be interrupted.</span></span> <span data-ttu-id="999aa-281">Unload, em seguida, usa o serviço de persistência para remover a instância de fluxo de trabalho da memória e persiste-o para um armazenamento de dados.</span><span class="sxs-lookup"><span data-stu-id="999aa-281">Unload then uses the persistence service to remove the workflow instance from memory and persists it to a data store.</span></span> <span data-ttu-id="999aa-282">Se não houver nenhum serviço de persistência registrado com o <xref:System.Workflow.Runtime.WorkflowRuntime>, <xref:System.Workflow.Runtime.WorkflowInstance.Unload%2A> lança um <xref:System.InvalidOperationException>.</span><span class="sxs-lookup"><span data-stu-id="999aa-282">If there is no persistence service registered with the <xref:System.Workflow.Runtime.WorkflowRuntime>, <xref:System.Workflow.Runtime.WorkflowInstance.Unload%2A> throws an <xref:System.InvalidOperationException>.</span></span> <span data-ttu-id="999aa-283">Se a instância de fluxo de trabalho é persistida com êxito, o tempo de execução gera o <xref:System.Workflow.Runtime.WorkflowRuntime.WorkflowUnloaded> eventos.</span><span class="sxs-lookup"><span data-stu-id="999aa-283">If the workflow instance is successfully persisted, the runtime raises the <xref:System.Workflow.Runtime.WorkflowRuntime.WorkflowUnloaded> event.</span></span>  
  
 <span data-ttu-id="999aa-284">O host pode usar <xref:System.Workflow.Runtime.WorkflowInstance.Unload%2A> recuperar recursos de sistema de um fluxo de trabalho ocioso.</span><span class="sxs-lookup"><span data-stu-id="999aa-284">The host can use <xref:System.Workflow.Runtime.WorkflowInstance.Unload%2A> to reclaim system resources from an idle workflow.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="999aa-285">O exemplo a seguir demonstra a chamada <xref:System.Workflow.Runtime.WorkflowInstance.Unload%2A> em um <xref:System.Workflow.Runtime.WorkflowInstance> objeto.</span><span class="sxs-lookup"><span data-stu-id="999aa-285">The following example demonstrates calling <xref:System.Workflow.Runtime.WorkflowInstance.Unload%2A> on a <xref:System.Workflow.Runtime.WorkflowInstance> object.</span></span>  
  
 [!code-csharp[WF_Samples#11](~/samples/snippets/csharp/VS_Snippets_CFX/wf_samples/cs/snippets.cs#11)]
 [!code-vb[WF_Samples#11](~/samples/snippets/visualbasic/VS_Snippets_CFX/wf_samples/vb/snippets.vb#11)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="999aa-286">There is no persistence service registered with the workflow runtime engine.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-286">There is no persistence service registered with the workflow runtime engine.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="WorkflowRuntime">
      <MemberSignature Language="C#" Value="public System.Workflow.Runtime.WorkflowRuntime WorkflowRuntime { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Workflow.Runtime.WorkflowRuntime WorkflowRuntime" />
      <MemberSignature Language="DocId" Value="P:System.Workflow.Runtime.WorkflowInstance.WorkflowRuntime" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property WorkflowRuntime As WorkflowRuntime" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Workflow::Runtime::WorkflowRuntime ^ WorkflowRuntime { System::Workflow::Runtime::WorkflowRuntime ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.WorkflowRuntime : System.Workflow.Runtime.WorkflowRuntime" Usage="System.Workflow.Runtime.WorkflowInstance.WorkflowRuntime" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>3.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Workflow.Runtime.WorkflowRuntime</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="999aa-287">Gets the <see cref="T:System.Workflow.Runtime.WorkflowRuntime" /> for this workflow instance.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-287">Gets the <see cref="T:System.Workflow.Runtime.WorkflowRuntime" /> for this workflow instance.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="999aa-288">Um <see cref="T:System.Workflow.Runtime.WorkflowRuntime" /> que representa o ambiente de execução em que esta instância de fluxo de trabalho está em execução.</span>
          <span class="sxs-lookup">
            <span data-stu-id="999aa-288">A <see cref="T:System.Workflow.Runtime.WorkflowRuntime" /> that represents the execution environment in which this workflow instance is running.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Examples  
 <span data-ttu-id="999aa-289">O exemplo a seguir demonstra como acessar o que executa <xref:System.Workflow.Runtime.WorkflowRuntime> de um <xref:System.Workflow.Runtime.WorkflowInstance> objeto.</span><span class="sxs-lookup"><span data-stu-id="999aa-289">The following example demonstrates accessing the executing <xref:System.Workflow.Runtime.WorkflowRuntime> of a <xref:System.Workflow.Runtime.WorkflowInstance> object.</span></span>  
  
 [!code-csharp[WF_Samples#7](~/samples/snippets/csharp/VS_Snippets_CFX/wf_samples/cs/snippets.cs#7)]
 [!code-vb[WF_Samples#7](~/samples/snippets/visualbasic/VS_Snippets_CFX/wf_samples/vb/snippets.vb#7)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
  </Members>
</Type>