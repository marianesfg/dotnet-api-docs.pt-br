<Type Name="SecurityContext" FullName="System.Messaging.SecurityContext">
  <Metadata>
    <Meta Name="ms.openlocfilehash" Value="cbe952ec1491fedd917992bf3d66dc1f76373f08" />
    <Meta Name="ms.sourcegitcommit" Value="6a0b904069161bbaec4ffd02aa7d9cf38c61e72e" />
    <Meta Name="ms.translationtype" Value="HT" />
    <Meta Name="ms.contentlocale" Value="pt-BR" />
    <Meta Name="ms.lasthandoff" Value="06/24/2018" />
    <Meta Name="ms.locfileid" Value="36553182" />
  </Metadata>
  <TypeSignature Language="C#" Value="public sealed class SecurityContext : IDisposable" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi sealed beforefieldinit SecurityContext extends System.Object implements class System.IDisposable" />
  <TypeSignature Language="DocId" Value="T:System.Messaging.SecurityContext" />
  <TypeSignature Language="VB.NET" Value="Public NotInheritable Class SecurityContext&#xA;Implements IDisposable" />
  <TypeSignature Language="C++ CLI" Value="public ref class SecurityContext sealed : IDisposable" />
  <TypeSignature Language="F#" Value="type SecurityContext = class&#xA;    interface IDisposable" />
  <AssemblyInfo>
    <AssemblyName>System.Messaging</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Object</BaseTypeName>
  </Base>
  <Interfaces>
    <Interface>
      <InterfaceName>System.IDisposable</InterfaceName>
    </Interface>
  </Interfaces>
  <Docs>
    <summary>
      <span data-ttu-id="2f1d7-101">Representa o contexto de segurança para uma mensagem em uma fila.</span>
      <span class="sxs-lookup">
        <span data-stu-id="2f1d7-101">Represents the security context for a message in a queue.</span>
      </span>
    </summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="2f1d7-102">O contexto de segurança contém informações de segurança armazenadas em cache como um certificado interno, a chave privada correspondente, o SID do usuário, necessária para anexar um certificado e o identificador de remetente para uma mensagem ao solicitar a autenticação.</span><span class="sxs-lookup"><span data-stu-id="2f1d7-102">The security context contains cached security information such as an internal certificate, the corresponding private key, the user's SID, needed to attach a certificate and the sender identifier to a message when requesting authentication.</span></span>  
  
 <span data-ttu-id="2f1d7-103">Se um cliente, como um aplicativo ASP.NET, representa um usuário para enviar uma mensagem para uma fila, a identidade do usuário é usada para acessar a fila.</span><span class="sxs-lookup"><span data-stu-id="2f1d7-103">If a client, such as an ASP.NET application, impersonates a user to send a message to a queue, the identity of the user is used to access the queue.</span></span> <span data-ttu-id="2f1d7-104">Se a fila for remota, essas credenciais são armazenadas em cache e usadas para mensagens enviadas para a fila subsequentemente.</span><span class="sxs-lookup"><span data-stu-id="2f1d7-104">If the queue is remote, these credentials are cached and used for messages that are subsequently sent to the queue.</span></span> <span data-ttu-id="2f1d7-105">Portanto, o SID nas mensagens subsequentes será a identidade armazenada em cache do primeiro usuário que enviou uma mensagem à fila.</span><span class="sxs-lookup"><span data-stu-id="2f1d7-105">Therefore, the SID in subsequent messages will be the cached identity of the first user that sent a message to the queue.</span></span> <span data-ttu-id="2f1d7-106">A identidade armazenada em cache do primeiro usuário que enviou uma mensagem à fila será usada para os usuários subsequentes.</span><span class="sxs-lookup"><span data-stu-id="2f1d7-106">The cached identity of the first user that sent a message to the queue will be used for subsequent users.</span></span>  
  
 <span data-ttu-id="2f1d7-107">Para contornar esse problema, defina o contexto de segurança usando <xref:System.Messaging.Message.SecurityContext%2A> antes de enviar uma mensagem para uma fila remota para assegurar que credenciais do usuário atual são usadas para acessar a fila.</span><span class="sxs-lookup"><span data-stu-id="2f1d7-107">To overcome this problem, set the security context using <xref:System.Messaging.Message.SecurityContext%2A> before sending a message to a remote queue to ensure that the current user's credentials are used to gain access to the queue.</span></span> <span data-ttu-id="2f1d7-108">No entanto, é a prática recomendada sugerida:</span><span class="sxs-lookup"><span data-stu-id="2f1d7-108">However, the suggested best practice is to:</span></span>  
  
1.  <span data-ttu-id="2f1d7-109">Verifique a fila de uma fila autenticada.</span><span class="sxs-lookup"><span data-stu-id="2f1d7-109">Make the queue an authenticated queue.</span></span>  
  
2.  <span data-ttu-id="2f1d7-110">Execute o aplicativo ASP.NET como uma identidade de domínio e autorizar esse aplicativo para gravar na fila.</span><span class="sxs-lookup"><span data-stu-id="2f1d7-110">Run the ASP.NET application as a domain identity and authorize that application to write to the queue.</span></span>  
  
3.  <span data-ttu-id="2f1d7-111">Não represente o usuário ao usar a fila.</span><span class="sxs-lookup"><span data-stu-id="2f1d7-111">Do not impersonate the user when using the queue.</span></span> <span data-ttu-id="2f1d7-112">Em vez disso, obtenha a identidade do chamador e executar a verificação no aplicativo ASP.NET de autorização ou incluir a identidade do chamador como parte da mensagem e executar a verificação do aplicativo receptor de autorização.</span><span class="sxs-lookup"><span data-stu-id="2f1d7-112">Instead, get the caller’s identity and either perform authorization checking in the ASP.NET application or include the caller’s identity as part of the message and perform authorization checking in the receiver application.</span></span>  
  
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <Member MemberName="Dispose">
      <MemberSignature Language="C#" Value="public void Dispose ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void Dispose() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Messaging.SecurityContext.Dispose" />
      <MemberSignature Language="VB.NET" Value="Public Sub Dispose ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void Dispose();" />
      <MemberSignature Language="F#" Value="abstract member Dispose : unit -&gt; unit&#xA;override this.Dispose : unit -&gt; unit" Usage="securityContext.Dispose " />
      <MemberType>Method</MemberType>
      <Implements>
        <InterfaceMember>M:System.IDisposable.Dispose</InterfaceMember>
      </Implements>
      <AssemblyInfo>
        <AssemblyName>System.Messaging</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="2f1d7-113">Libera todos os recursos usados pelo <see cref="T:System.Messaging.SecurityContext" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2f1d7-113">Releases all resources used by the <see cref="T:System.Messaging.SecurityContext" />.</span>
          </span>
        </summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
  </Members>
</Type>