<Namespace Name="System.Xml">
  <Metadata><Meta Name="ms.openlocfilehash" Value="be8c1cc1f4e4adca284d060272a91de64feb8fad" /><Meta Name="ms.sourcegitcommit" Value="adc8598fd19d91438cacaa8fa7ce613e28c8218e" /><Meta Name="ms.translationtype" Value="HT" /><Meta Name="ms.contentlocale" Value="pt-BR" /><Meta Name="ms.lasthandoff" Value="12/11/2018" /><Meta Name="ms.locfileid" Value="53225743" /></Metadata><Docs>
    <summary><span data-ttu-id="18b21-101">O namespace <see cref="N:System.Xml" /> fornece suporte baseado em padrões para processamento de XML.</span><span class="sxs-lookup"><span data-stu-id="18b21-101">The <see cref="N:System.Xml" /> namespace provides standards-based support for processing XML.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
  
<a name="std"></a>   
## <a name="supported-standards"></a><span data-ttu-id="18b21-102">Padrões com suporte</span><span class="sxs-lookup"><span data-stu-id="18b21-102">Supported standards</span></span>  
 <span data-ttu-id="18b21-103">O <xref:System.Xml> namespace oferece suporte a esses padrões:</span><span class="sxs-lookup"><span data-stu-id="18b21-103">The <xref:System.Xml> namespace supports these standards:</span></span>  
  
-   <span data-ttu-id="18b21-104">XML 1.0, incluindo suporte a DTD: [http://www.w3.org/TR/2006/REC-xml-20060816/](http://www.w3.org/TR/2006/REC-xml-20060816/)</span><span class="sxs-lookup"><span data-stu-id="18b21-104">XML 1.0, including DTD support: [http://www.w3.org/TR/2006/REC-xml-20060816/](http://www.w3.org/TR/2006/REC-xml-20060816/)</span></span>  
  
-   <span data-ttu-id="18b21-105">Namespaces XML, ambos nível de fluxo e DOM: [http://www.w3.org/TR/REC-xml-names/](http://www.w3.org/TR/REC-xml-names/)</span><span class="sxs-lookup"><span data-stu-id="18b21-105">XML namespaces, both stream-level and DOM: [http://www.w3.org/TR/REC-xml-names/](http://www.w3.org/TR/REC-xml-names/)</span></span>  
  
-   <span data-ttu-id="18b21-106">Esquemas XML: [http://www.w3.org/2001/XMLSchema](http://www.w3.org/2001/XMLSchema)</span><span class="sxs-lookup"><span data-stu-id="18b21-106">XML schemas: [http://www.w3.org/2001/XMLSchema](http://www.w3.org/2001/XMLSchema)</span></span>  
  
-   <span data-ttu-id="18b21-107">Expressões XPath: [http://www.w3.org/TR/xpath](http://www.w3.org/TR/xpath)</span><span class="sxs-lookup"><span data-stu-id="18b21-107">XPath expressions: [http://www.w3.org/TR/xpath](http://www.w3.org/TR/xpath)</span></span>  
  
-   <span data-ttu-id="18b21-108">Transformações XSLT: [http://www.w3.org/TR/xslt](http://www.w3.org/TR/xslt)</span><span class="sxs-lookup"><span data-stu-id="18b21-108">XSLT transformations: [http://www.w3.org/TR/xslt](http://www.w3.org/TR/xslt)</span></span>  
  
-   <span data-ttu-id="18b21-109">Núcleo de nível 1 DOM: [http://www.w3.org/TR/REC-DOM-Level-1/](http://www.w3.org/TR/REC-DOM-Level-1/)</span><span class="sxs-lookup"><span data-stu-id="18b21-109">DOM Level 1 Core: [http://www.w3.org/TR/REC-DOM-Level-1/](http://www.w3.org/TR/REC-DOM-Level-1/)</span></span>  
  
-   <span data-ttu-id="18b21-110">Núcleo de nível 2 DOM: [http://www.w3.org/TR/DOM-Level-2/](http://www.w3.org/TR/DOM-Level-2/)</span><span class="sxs-lookup"><span data-stu-id="18b21-110">DOM Level 2 Core: [http://www.w3.org/TR/DOM-Level-2/](http://www.w3.org/TR/DOM-Level-2/)</span></span>  
  
 <span data-ttu-id="18b21-111">Consulte a seção [diferenças em relação as especificações de W3C](#diff) dois casos em que as classes XML diferem das recomendações W3C.</span><span class="sxs-lookup"><span data-stu-id="18b21-111">See the section [Differences from the W3C specs](#diff) for two cases in which the XML classes differ from the W3C recommendations.</span></span>  
  
<a name="related"></a>   
## <a name="related-namespaces"></a><span data-ttu-id="18b21-112">Namespaces relacionados</span><span class="sxs-lookup"><span data-stu-id="18b21-112">Related namespaces</span></span>  
 <span data-ttu-id="18b21-113">O .NET Framework também fornece outros namespaces para operações relacionadas ao XML.</span><span class="sxs-lookup"><span data-stu-id="18b21-113">The .NET Framework also provides other namespaces for XML-related operations.</span></span> <span data-ttu-id="18b21-114">Para obter uma lista, descrições e links, consulte o [Namespaces System. XML](https://msdn.microsoft.com/library/gg145036.aspx) página da Web.</span><span class="sxs-lookup"><span data-stu-id="18b21-114">For a list, descriptions, and links, see the [System.Xml Namespaces](https://msdn.microsoft.com/library/gg145036.aspx) webpage.</span></span>  
  
<a name="async"></a>   
## <a name="processing-xml-asynchronously"></a><span data-ttu-id="18b21-115">Processando XML de forma assíncrona</span><span class="sxs-lookup"><span data-stu-id="18b21-115">Processing XML asynchronously</span></span>  
 <span data-ttu-id="18b21-116">O <xref:System.Xml.XmlReader?displayProperty=nameWithType> e <xref:System.Xml.XmlWriter?displayProperty=nameWithType> classes incluem uma série de métodos assíncronos baseados na.</span><span class="sxs-lookup"><span data-stu-id="18b21-116">The <xref:System.Xml.XmlReader?displayProperty=nameWithType> and <xref:System.Xml.XmlWriter?displayProperty=nameWithType> classes include a number of asynchronous methods that are based on the .</span></span> <span data-ttu-id="18b21-117">Esses métodos podem ser identificados pela cadeia de caracteres "Async" ao final de seus nomes.</span><span class="sxs-lookup"><span data-stu-id="18b21-117">These methods can be identified by the string "Async" at the end of their names.</span></span> <span data-ttu-id="18b21-118">Com esses métodos, você pode escrever código assíncrono que é semelhante ao código síncrono, e você pode facilmente migrar seu código síncrono existente em código assíncrono.</span><span class="sxs-lookup"><span data-stu-id="18b21-118">With these methods, you can write asynchronous code that's similar to your synchronous code, and you can migrate your existing synchronous code to asynchronous code easily.</span></span>  
  
-   <span data-ttu-id="18b21-119">Use os métodos assíncronos em aplicativos em que há latência do fluxo de rede significativo.</span><span class="sxs-lookup"><span data-stu-id="18b21-119">Use the asynchronous methods in apps where there is significant network stream latency.</span></span> <span data-ttu-id="18b21-120">Evite usar APIs assíncronas para o fluxo de memória ou operações de leitura/gravação do fluxo de arquivos local.</span><span class="sxs-lookup"><span data-stu-id="18b21-120">Avoid using the asynchronous APIs for memory stream or local file stream read/write operations.</span></span> <span data-ttu-id="18b21-121">O fluxo de entrada <xref:System.Xml.XmlTextReader>, e <xref:System.Xml.XmlTextWriter> deve dar suporte a operações assíncronas também.</span><span class="sxs-lookup"><span data-stu-id="18b21-121">The input stream, <xref:System.Xml.XmlTextReader>, and <xref:System.Xml.XmlTextWriter> should support asynchronous operations as well.</span></span> <span data-ttu-id="18b21-122">Caso contrário, threads ainda serão bloqueados por operações de e/s.</span><span class="sxs-lookup"><span data-stu-id="18b21-122">Otherwise, threads will still be blocked by I/O operations.</span></span>  
  
-   <span data-ttu-id="18b21-123">Não recomendamos misturar chamadas de função síncronas e assíncronas, pois você pode esquecer de usar o `await` palavra-chave ou use uma API síncrona em assíncrona é necessária.</span><span class="sxs-lookup"><span data-stu-id="18b21-123">We don't recommend mixing synchronous and asynchronous function calls, because you might forget to use the `await` keyword or use a synchronous API where an asynchronous one is necessary.</span></span>  
  
-   <span data-ttu-id="18b21-124">Não defina a <xref:System.Xml.XmlReaderSettings.Async%2A?displayProperty=nameWithType> ou <xref:System.Xml.XmlWriterSettings.Async%2A?displayProperty=nameWithType> sinalizador como `true` se você não pretende usar um método assíncrono.</span><span class="sxs-lookup"><span data-stu-id="18b21-124">Do not set the <xref:System.Xml.XmlReaderSettings.Async%2A?displayProperty=nameWithType> or <xref:System.Xml.XmlWriterSettings.Async%2A?displayProperty=nameWithType> flag to `true` if you don't intend to use an asynchronous method.</span></span>  
  
-   <span data-ttu-id="18b21-125">Se você se esqueça de especificar o `await` palavra-chave quando você chama um método assíncrono, os resultados são não determinista: Você pode receber o resultado esperado ou uma exceção.</span><span class="sxs-lookup"><span data-stu-id="18b21-125">If you forget to specify the `await` keyword when you call an asynchronous method, the results are non-deterministic: You might receive the result you expected or an exception.</span></span>  
  
-   <span data-ttu-id="18b21-126">Quando um <xref:System.Xml.XmlReader> objeto está lendo um nó de texto grande, ele pode armazenar em cache apenas um valor de texto parcial e retornar o nó de texto, portanto, recuperando o <xref:System.Xml.XmlReader.Value%2A?displayProperty=nameWithType> propriedade poderá ser bloqueada por uma operação de e/s.</span><span class="sxs-lookup"><span data-stu-id="18b21-126">When an <xref:System.Xml.XmlReader> object is reading a large text node, it might cache only a partial text value and return the text node, so retrieving the <xref:System.Xml.XmlReader.Value%2A?displayProperty=nameWithType> property might be blocked by an I/O operation.</span></span> <span data-ttu-id="18b21-127">Use o <xref:System.Xml.XmlReader.GetValueAsync%2A?displayProperty=nameWithType> método para obter o valor de texto no modo assíncrono, ou use o <xref:System.Xml.XmlReader.ReadValueChunkAsync%2A?displayProperty=nameWithType> bloco de método para ler um texto grande em partes.</span><span class="sxs-lookup"><span data-stu-id="18b21-127">Use the <xref:System.Xml.XmlReader.GetValueAsync%2A?displayProperty=nameWithType> method to get the text value in asynchronous mode, or use the <xref:System.Xml.XmlReader.ReadValueChunkAsync%2A?displayProperty=nameWithType> method to read a large text block in chunks.</span></span>  
  
-   <span data-ttu-id="18b21-128">Quando você usa um <xref:System.Xml.XmlWriter> do objeto, chame o <xref:System.Xml.XmlWriter.FlushAsync%2A?displayProperty=nameWithType> método antes de chamar <xref:System.Xml.XmlWriter.Close%2A?displayProperty=nameWithType> para evitar o bloqueio de uma operação de e/s.</span><span class="sxs-lookup"><span data-stu-id="18b21-128">When you use an <xref:System.Xml.XmlWriter> object, call the <xref:System.Xml.XmlWriter.FlushAsync%2A?displayProperty=nameWithType> method before calling <xref:System.Xml.XmlWriter.Close%2A?displayProperty=nameWithType> to avoid blocking an I/O operation.</span></span>  
  
<a name="diff"></a>   
## <a name="differences-from-the-w3c-specs"></a><span data-ttu-id="18b21-129">Diferenças em relação as especificações de W3C</span><span class="sxs-lookup"><span data-stu-id="18b21-129">Differences from the W3C specs</span></span>  
 <span data-ttu-id="18b21-130">Nos dois casos que envolvem restrições em componentes de esquema do grupo de modelo, o <xref:System.Xml> namespace difere as recomendações do W3C.</span><span class="sxs-lookup"><span data-stu-id="18b21-130">In two cases that involve constraints on model group schema components, the <xref:System.Xml> namespace differs from the W3C recommendations.</span></span>  
  
 <span data-ttu-id="18b21-131">**Consistência em declarações de elemento:**</span><span class="sxs-lookup"><span data-stu-id="18b21-131">**Consistency in element declarations:**</span></span>  
  
 <span data-ttu-id="18b21-132">Em alguns casos, quando grupos de substituição são usados, o <xref:System.Xml> implementação não satisfaz a "restrição componente de esquema: Declarações elemento consistentes,"que é descrita de [restrições em componentes de esquema do modelo de grupo](https://go.microsoft.com/fwlink/?LinkId=137029) seção da especificação W3C.</span><span class="sxs-lookup"><span data-stu-id="18b21-132">In some cases, when substitution groups are used, the <xref:System.Xml> implementation does not satisfy the "Schema Component Constraint: Element Declarations Consistent," which is described in the [Constraints on Model Group Schema Components](https://go.microsoft.com/fwlink/?LinkId=137029) section of the W3C spec.</span></span>  
  
 <span data-ttu-id="18b21-133">Por exemplo, o esquema a seguir inclui os elementos que têm o mesmo nome, mas tipos diferentes no mesmo modelo de conteúdo e grupos de substituição são usados.</span><span class="sxs-lookup"><span data-stu-id="18b21-133">For example, the following schema includes elements that have the same name but different types in the same content model, and substitution groups are used.</span></span> <span data-ttu-id="18b21-134">Isso deve causar um erro, mas <xref:System.Xml> compila e valida o esquema sem erros.</span><span class="sxs-lookup"><span data-stu-id="18b21-134">This should cause an error, but <xref:System.Xml> compiles and validates the schema without errors.</span></span>  
  
```xml  
<?xml version="1.0" encoding="utf-8" ?>   
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified">  
  
   <xs:element name="e1" type="t1"/>  
   <xs:complexType name="t1"/>  
  
   <xs:element name="e2" type="t2" substitutionGroup="e1"/>  
      <xs:complexType name="t2">  
         <xs:complexContent>  
            <xs:extension base="t1">  
         </xs:extension>  
      </xs:complexContent>  
   </xs:complexType>  
  
   <xs:complexType name="t3">  
      <xs:sequence>  
         <xs:element ref="e1"/>  
         <xs:element name="e2" type="xs:int"/>  
      </xs:sequence>  
   </xs:complexType>  
</xs:schema>  
```  
  
 <span data-ttu-id="18b21-135">Neste esquema, o tipo `t3` contém uma sequência de elementos.</span><span class="sxs-lookup"><span data-stu-id="18b21-135">In this schema, type `t3` contains a sequence of elements.</span></span> <span data-ttu-id="18b21-136">Devido a substituição, a referência ao elemento `e1` a sequência pode resultar no elemento `e1` de tipo `t1` ou elemento `e2` de tipo `t2`.</span><span class="sxs-lookup"><span data-stu-id="18b21-136">Because of the substitution, the reference to element `e1` from the sequence can result either in element `e1` of type `t1` or in element `e2` of type `t2`.</span></span> <span data-ttu-id="18b21-137">O último caso resultaria em uma sequência de dois `e2` elementos, em que um é do tipo `t2` e a outra é do tipo `xs:int`.</span><span class="sxs-lookup"><span data-stu-id="18b21-137">The latter case would result in a sequence of two `e2` elements, where one is of type `t2` and the other is of type `xs:int`.</span></span>  
  
 <span data-ttu-id="18b21-138">**Atribuição de partícula exclusiva:**</span><span class="sxs-lookup"><span data-stu-id="18b21-138">**Unique particle attribution:**</span></span>  
  
 <span data-ttu-id="18b21-139">Sob as seguintes condições, o <xref:System.Xml> implementação não satisfaz a "restrição componente de esquema: Atribuição exclusivo de partícula,"que é descrita de [restrições em componentes de esquema do modelo de grupo](https://go.microsoft.com/fwlink/?LinkId=137029) seção da especificação W3C.</span><span class="sxs-lookup"><span data-stu-id="18b21-139">Under the following conditions, the <xref:System.Xml> implementation does not satisfy the "Schema Component Constraint: Unique Particle Attribution," which is described in the [Constraints on Model Group Schema Components](https://go.microsoft.com/fwlink/?LinkId=137029) section of the W3C spec.</span></span>  
  
-   <span data-ttu-id="18b21-140">Um dos elementos no grupo referencia outro elemento.</span><span class="sxs-lookup"><span data-stu-id="18b21-140">One of the elements in the group references another element.</span></span>  
  
-   <span data-ttu-id="18b21-141">O elemento referenciado é um elemento principal de um grupo de substituição.</span><span class="sxs-lookup"><span data-stu-id="18b21-141">The referenced element is a head element of a substitution group.</span></span>  
  
-   <span data-ttu-id="18b21-142">O grupo de substituição contém um elemento que tem o mesmo nome que um dos elementos no grupo.</span><span class="sxs-lookup"><span data-stu-id="18b21-142">The substitution group contains an element that has the same name as one of the elements in the group.</span></span>  
  
-   <span data-ttu-id="18b21-143">A cardinalidade do elemento que referencia o elemento de cabeçalho de grupo de substituição e o elemento com o mesmo nome, como um elemento do grupo de substituição não é fixo (minOccurs < maxOccurs).</span><span class="sxs-lookup"><span data-stu-id="18b21-143">The cardinality of the element that references the substitution group head element and the element with the same name as a substitution group element is not fixed (minOccurs < maxOccurs).</span></span>  
  
-   <span data-ttu-id="18b21-144">A definição do elemento que faz referência o grupo de substituição precede a definição do elemento com o mesmo nome que um elemento do grupo de substituição.</span><span class="sxs-lookup"><span data-stu-id="18b21-144">The definition of the element that references the substitution group precedes the definition of the element with the same name as a substitution group element.</span></span>  
  
 <span data-ttu-id="18b21-145">Por exemplo, no esquema abaixo do modelo de conteúdo é ambíguo e deve causar um erro de compilação, mas <xref:System.Xml> criar o esquema sem erros.</span><span class="sxs-lookup"><span data-stu-id="18b21-145">For example, in the schema below the content model is ambiguous and should cause a compilation error, but <xref:System.Xml> compiles the schema without errors.</span></span>  
  
```xml  
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified">  
  
  <xs:element name="e1" type="xs:int"/>  
  <xs:element name="e2" type="xs:int" substitutionGroup="e1"/>  
  
  <xs:complexType name="t3">  
    <xs:sequence>  
      <xs:element ref="e1" minOccurs="0" maxOccurs="1"/>  
      <xs:element name="e2" type="xs:int" minOccurs="0" maxOccurs="1"/>  
    </xs:sequence>  
  </xs:complexType>  
  
  <xs:element name="e3" type="t3"/>  
</xs:schema>  
```  
  
 <span data-ttu-id="18b21-146">Se você tentar validar o XML a seguir com o esquema acima, a validação falhará com a seguinte mensagem: "O elemento"e3"tem filho inválido elemento"e2"." e um <xref:System.Xml.Schema.XmlSchemaValidationException> exceção será lançada.</span><span class="sxs-lookup"><span data-stu-id="18b21-146">If you try to validate the following XML against the schema above, the validation will fail with the following message: "The element 'e3' has invalid child element 'e2'." and an <xref:System.Xml.Schema.XmlSchemaValidationException> exception will be thrown.</span></span>  
  
```xml  
<e3>  
  <e2>1</e2>  
  <e2>2</e2>  
</e3>  
```  
  
 <span data-ttu-id="18b21-147">Para contornar esse problema, você pode alternar declarações elemento no documento XSD.</span><span class="sxs-lookup"><span data-stu-id="18b21-147">To work around this problem, you can swap element declarations in the XSD document.</span></span> <span data-ttu-id="18b21-148">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="18b21-148">For example:</span></span>  
  
```xml  
<xs:sequence>  
  <xs:element ref="e1" minOccurs="0" maxOccurs="1"/>  
  <xs:element name="e2" type="xs:int" minOccurs="0" maxOccurs="1"/>  
</xs:sequence>  
```  
  
 <span data-ttu-id="18b21-149">se torna isso:</span><span class="sxs-lookup"><span data-stu-id="18b21-149">becomes this:</span></span>  
  
```xml  
<xs:sequence>  
  <xs:element name="e2" type="xs:int" minOccurs="0" maxOccurs="1"/>  
  <xs:element ref="e1" minOccurs="0" maxOccurs="1"/>  
</xs:sequence>  
```  
  
 <span data-ttu-id="18b21-150">Aqui está outro exemplo do mesmo problema:</span><span class="sxs-lookup"><span data-stu-id="18b21-150">Here's another example of the same issue:</span></span>  
  
```xml  
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified">  
   <xs:element name="e1" type="xs:string"/>  
   <xs:element name="e2" type="xs:string" substitutionGroup="e1"/>  
  
   <xs:complexType name="t3">  
      <xs:sequence>  
         <xs:element ref="e1" minOccurs="0" maxOccurs="1"/>  
         <xs:element name="e2" type="xs:int" minOccurs="0" maxOccurs="1"/>  
      </xs:sequence>  
   </xs:complexType>  
   <xs:element name="e3" type="t3"/>  
</xs:schema>  
```  
  
 <span data-ttu-id="18b21-151">Se você tentar validar o XML a seguir com o esquema acima, a validação falhará com a seguinte exceção: "Exceção sem tratamento: System.Xml.Schema.XmlSchemaValidationException: O elemento de el de "e2" é inválido – o valor 'abc' é inválido de acordo com seu tipo de dados 'http://www.w3.org/2001/XMLSchema:int'-a cadeia de caracteres 'abc' não é um valor Int32 válido. "</span><span class="sxs-lookup"><span data-stu-id="18b21-151">If you try to validate the following XML against the schema above, the validation will fail with the following exception: "Unhandled Exception: System.Xml.Schema.XmlSchemaValidationException: The 'e2' el element is invalid - The value 'abc' is invalid according to its datatype 'http://www.w3.org/2001/XMLSchema:int' - The string 'abc' is not a valid Int32 value."</span></span>
  
```xml  
<e3><e2>abc</e2></e3>  
```  
  
<a name="security"></a>   
## <a name="security-considerations"></a><span data-ttu-id="18b21-152">Considerações sobre segurança</span><span class="sxs-lookup"><span data-stu-id="18b21-152">Security considerations</span></span>  
 <span data-ttu-id="18b21-153">Os tipos e membros na <xref:System.Xml> dependem do namespace de [sistema de segurança do .NET](~/docs/standard/security/index.md).</span><span class="sxs-lookup"><span data-stu-id="18b21-153">The types and members in the <xref:System.Xml> namespace rely on the [.NET security system](~/docs/standard/security/index.md).</span></span> <span data-ttu-id="18b21-154">As seções a seguir abordam os problemas de segurança que são específicos para tecnologias XML.</span><span class="sxs-lookup"><span data-stu-id="18b21-154">The following sections discuss security issues that are specific to XML technologies.</span></span>
  
 <span data-ttu-id="18b21-155">Observe também que, quando você usa o <xref:System.Xml> tipos e membros, se o XML contiver dados que tem implicações potenciais de privacidade, você precisa implementar seu aplicativo de forma que respeita a privacidade de seus usuários finais.</span><span class="sxs-lookup"><span data-stu-id="18b21-155">Also note that when you use the <xref:System.Xml> types and members, if the XML contains data that has potential privacy implications, you need to implement your app in a way that respects your end users' privacy.</span></span>
  
 <span data-ttu-id="18b21-156">**Acesso externo**</span><span class="sxs-lookup"><span data-stu-id="18b21-156">**External access**</span></span>  
  
 <span data-ttu-id="18b21-157">Várias tecnologias XML tem a capacidade de recuperar outros documentos durante o processamento.</span><span class="sxs-lookup"><span data-stu-id="18b21-157">Several XML technologies have the ability to retrieve other documents during processing.</span></span> <span data-ttu-id="18b21-158">Por exemplo, um Document type definition (DTD) pode residir no documento que está sendo analisada.</span><span class="sxs-lookup"><span data-stu-id="18b21-158">For example, a document type definition (DTD) can reside in the document being parsed.</span></span> <span data-ttu-id="18b21-159">O DTD também pode viver em um documento externa que é referenciado pelo documento que está sendo analisada.</span><span class="sxs-lookup"><span data-stu-id="18b21-159">The DTD can also live in an external document that is referenced by the document being parsed.</span></span> <span data-ttu-id="18b21-160">O idioma da definição de esquema XML (XSD) e tecnologias XSLT também têm a capacidade para incluir informações de outros arquivos.</span><span class="sxs-lookup"><span data-stu-id="18b21-160">The XML Schema definition language (XSD) and XSLT technologies also have the ability to include information from other files.</span></span> <span data-ttu-id="18b21-161">Esses recursos externos podem apresentar alguns problemas de segurança.</span><span class="sxs-lookup"><span data-stu-id="18b21-161">These external resources can present some security concerns.</span></span> <span data-ttu-id="18b21-162">Por exemplo, você vai querer garantir que seu aplicativo recupera arquivos somente de sites confiáveis e que o arquivo que ele recupera não contém dados mal-intencionados.</span><span class="sxs-lookup"><span data-stu-id="18b21-162">For example, you'll want to ensure that your app retrieves files only from trusted sites, and that the file it retrieves doesn't contain malicious data.</span></span>  
  
 <span data-ttu-id="18b21-163">O <xref:System.Xml.XmlUrlResolver> classe é usada para carregar documentos XML e para resolver recursos externos como entidades, DTDs ou esquemas e importar ou diretivas de inclusão.</span><span class="sxs-lookup"><span data-stu-id="18b21-163">The <xref:System.Xml.XmlUrlResolver> class is used to load XML documents and to resolve external resources such as entities, DTDs, or schemas, and import or include directives.</span></span>  
  
 <span data-ttu-id="18b21-164">Você pode substituir essa classe e especificar o <xref:System.Xml.XmlResolver> objeto a ser usado.</span><span class="sxs-lookup"><span data-stu-id="18b21-164">You can override this class and specify the <xref:System.Xml.XmlResolver> object to use.</span></span> <span data-ttu-id="18b21-165">Use a classe de <xref:System.Xml.XmlSecureResolver> se você precisa abrir um recurso que você não controle, ou que é não confiável.</span><span class="sxs-lookup"><span data-stu-id="18b21-165">Use the <xref:System.Xml.XmlSecureResolver> class if you need to open a resource that you do not control, or that is untrusted.</span></span> <span data-ttu-id="18b21-166"><xref:System.Xml.XmlSecureResolver> envolve <xref:System.Xml.XmlResolver> e permite que você restringir os recursos a que <xref:System.Xml.XmlResolver> subjacente tem acesso.</span><span class="sxs-lookup"><span data-stu-id="18b21-166">The <xref:System.Xml.XmlSecureResolver> wraps an <xref:System.Xml.XmlResolver> and allows you to restrict the resources that the underlying <xref:System.Xml.XmlResolver> has access to.</span></span>  
  
 <span data-ttu-id="18b21-167">**Negação de serviço**</span><span class="sxs-lookup"><span data-stu-id="18b21-167">**Denial of service**</span></span>  
  
 <span data-ttu-id="18b21-168">Os seguintes cenários são considerados menos vulneráveis a ataques de negação de serviço como as classes de <xref:System.Xml> fornecem um meio da proteção de como ataques.</span><span class="sxs-lookup"><span data-stu-id="18b21-168">The following scenarios are considered to be less vulnerable to denial of service attacks because the <xref:System.Xml> classes provide a means of protection from such attacks.</span></span>  
  
-   <span data-ttu-id="18b21-169">Dados XML de texto de análise.</span><span class="sxs-lookup"><span data-stu-id="18b21-169">Parsing text XML data.</span></span>  
  
-   <span data-ttu-id="18b21-170">Analisar os dados XML binários se os dados XML binários foram gerados pelo Microsoft SQL Server.</span><span class="sxs-lookup"><span data-stu-id="18b21-170">Parsing binary XML data if the binary XML data was generated by Microsoft SQL Server.</span></span>  
  
-   <span data-ttu-id="18b21-171">Escrevendo documentos XML e fragmentos de fontes de dados para o sistema de arquivos, para fluxos, a <xref:System.IO.TextWriter>, ou a <xref:System.Text.StringBuilder>.</span><span class="sxs-lookup"><span data-stu-id="18b21-171">Writing XML documents and fragments from data sources to the file system, streams, a <xref:System.IO.TextWriter>, or a <xref:System.Text.StringBuilder>.</span></span>  
  
-   <span data-ttu-id="18b21-172">Documentos de carregamento em Document Object Model (DOM) objeto se você estiver usando um objeto e <xref:System.Xml.XmlReader> de <xref:System.Xml.XmlReaderSettings.DtdProcessing%2A?displayProperty=nameWithType> definidos como <xref:System.Xml.DtdProcessing.Prohibit?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="18b21-172">Loading documents into the Document Object Model (DOM) object if you are using an <xref:System.Xml.XmlReader> object and <xref:System.Xml.XmlReaderSettings.DtdProcessing%2A?displayProperty=nameWithType> set to <xref:System.Xml.DtdProcessing.Prohibit?displayProperty=nameWithType>.</span></span>  
  
-   <span data-ttu-id="18b21-173">Navegando no objeto DOM.</span><span class="sxs-lookup"><span data-stu-id="18b21-173">Navigating the DOM object.</span></span>  
  
 <span data-ttu-id="18b21-174">Os seguintes cenários não são recomendados se você estiver preocupado sobre ataques de negação de serviço, ou se você estiver trabalhando em um ambiente não confiável.</span><span class="sxs-lookup"><span data-stu-id="18b21-174">The following scenarios are not recommended if you are concerned about denial of service attacks, or if you are working in an untrusted environment.</span></span>  
  
-   <span data-ttu-id="18b21-175">Processamento de DTD.</span><span class="sxs-lookup"><span data-stu-id="18b21-175">DTD processing.</span></span>  
  
-   <span data-ttu-id="18b21-176">Processamento de esquema.</span><span class="sxs-lookup"><span data-stu-id="18b21-176">Schema processing.</span></span> <span data-ttu-id="18b21-177">Isso inclui adicionar um esquema não confiável a coleção do esquema, criar um esquema não confiável, e validar-lo usando um esquema não confiável.</span><span class="sxs-lookup"><span data-stu-id="18b21-177">This includes adding an untrusted schema to the schema collection, compiling an untrusted schema, and validating by using an untrusted schema.</span></span>  
  
-   <span data-ttu-id="18b21-178">Processamento de XSLT.</span><span class="sxs-lookup"><span data-stu-id="18b21-178">XSLT processing.</span></span>  
  
-   <span data-ttu-id="18b21-179">Analisando qualquer fluxo arbitrário de usuário fornecido dados binários XML.</span><span class="sxs-lookup"><span data-stu-id="18b21-179">Parsing any arbitrary stream of user supplied binary XML data.</span></span>  
  
-   <span data-ttu-id="18b21-180">Operações DOM como subpropriedades árvores consulte, editar, em movimento entre documentos, e salvar objetos DOM.</span><span class="sxs-lookup"><span data-stu-id="18b21-180">DOM operations such as querying, editing, moving sub-trees between documents, and saving DOM objects.</span></span>  
  
 <span data-ttu-id="18b21-181">Se você estiver preocupado com a negação de problemas de serviço ou se você estiver lidando com fontes não confiáveis, não habilite o processamento de DTD.</span><span class="sxs-lookup"><span data-stu-id="18b21-181">If you are concerned about denial of service issues or if you are dealing with untrusted sources, do not enable DTD processing.</span></span> <span data-ttu-id="18b21-182">Isso é desabilitado por padrão na <xref:System.Xml.XmlReader> objetos que o <xref:System.Xml.XmlReader.Create%2A?displayProperty=nameWithType> método cria.</span><span class="sxs-lookup"><span data-stu-id="18b21-182">This is disabled by default on <xref:System.Xml.XmlReader> objects that the <xref:System.Xml.XmlReader.Create%2A?displayProperty=nameWithType> method creates.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="18b21-183"><xref:System.Xml.XmlTextReader> permite o DTD que processa por padrão.</span><span class="sxs-lookup"><span data-stu-id="18b21-183">The <xref:System.Xml.XmlTextReader> allows DTD processing by default.</span></span> <span data-ttu-id="18b21-184">Use a propriedade de <xref:System.Xml.XmlTextReader.DtdProcessing%2A?displayProperty=nameWithType> para desativar esse recurso.</span><span class="sxs-lookup"><span data-stu-id="18b21-184">Use the <xref:System.Xml.XmlTextReader.DtdProcessing%2A?displayProperty=nameWithType> property to disable this feature.</span></span>  
  
 <span data-ttu-id="18b21-185">Se você tiver habilitado o processamento de DTD, você pode usar o <xref:System.Xml.XmlSecureResolver> classe para restringir os recursos que o <xref:System.Xml.XmlReader> pode acessar.</span><span class="sxs-lookup"><span data-stu-id="18b21-185">If you have DTD processing enabled, you can use the <xref:System.Xml.XmlSecureResolver> class to restrict the resources that the <xref:System.Xml.XmlReader> can access.</span></span> <span data-ttu-id="18b21-186">Você também pode criar seu aplicativo para que o processamento de XML é memória e hora restritos.</span><span class="sxs-lookup"><span data-stu-id="18b21-186">You can also design your app so that the XML processing is memory and time constrained.</span></span> <span data-ttu-id="18b21-187">Por exemplo, você pode configurar limites de tempo limite em seu aplicativo ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="18b21-187">For example, you can configure timeout limits in your ASP.NET app.</span></span>  
  
 <span data-ttu-id="18b21-188">**Considerações de processamento**</span><span class="sxs-lookup"><span data-stu-id="18b21-188">**Processing considerations**</span></span>  
  
 <span data-ttu-id="18b21-189">Porque os documentos XML podem incluir referências a outros arquivos, é difícil determinar quanto poder de processamento é necessária para analisar um documento XML.</span><span class="sxs-lookup"><span data-stu-id="18b21-189">Because XML documents can include references to other files, it is difficult to determine how much processing power is required to parse an XML document.</span></span> <span data-ttu-id="18b21-190">Por exemplo, documentos XML podem incluir um DTD.</span><span class="sxs-lookup"><span data-stu-id="18b21-190">For example, XML documents can include a DTD.</span></span> <span data-ttu-id="18b21-191">Se o DTD contém entidades aninhadas ou modelos de conteúdo complexos, poderia levar uma quantidade excessiva de tempo para analisar o documento.</span><span class="sxs-lookup"><span data-stu-id="18b21-191">If the DTD contains nested entities or complex content models, it could take an excessive amount of time to parse the document.</span></span>  
  
 <span data-ttu-id="18b21-192">Ao usar <xref:System.Xml.XmlReader>, você pode limitar o tamanho de documento que pode ser analisado definindo a propriedade de <xref:System.Xml.XmlReaderSettings.MaxCharactersInDocument%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="18b21-192">When using <xref:System.Xml.XmlReader>, you can limit the size of the document that can be parsed by setting the <xref:System.Xml.XmlReaderSettings.MaxCharactersInDocument%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="18b21-193">Você pode limitar o número de caracteres resultantes de expanda entidades definindo a propriedade de <xref:System.Xml.XmlReaderSettings.MaxCharactersFromEntities%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="18b21-193">You can limit the number of characters that result from expanding entities by setting the <xref:System.Xml.XmlReaderSettings.MaxCharactersFromEntities%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="18b21-194">Consulte os tópicos de referência adequadas para exemplos de definir essas propriedades.</span><span class="sxs-lookup"><span data-stu-id="18b21-194">See the appropriate reference topics for examples of setting these properties.</span></span>  
  
 <span data-ttu-id="18b21-195">As tecnologias XSD e XSLT têm recursos adicionais que podem afetar o desempenho de processamento.</span><span class="sxs-lookup"><span data-stu-id="18b21-195">The XSD and XSLT technologies have additional capabilities that can affect processing performance.</span></span> <span data-ttu-id="18b21-196">Por exemplo, é possível criar um esquema XML que requer um montante considerável de tempo de processamento quando avaliada sobre um documento relativamente pequeno.</span><span class="sxs-lookup"><span data-stu-id="18b21-196">For example, it is possible to construct an XML schema that requires a substantial amount of time to process when evaluated over a relatively small document.</span></span> <span data-ttu-id="18b21-197">Também é possível inserir blocos de script em uma folha de estilos XSLT.</span><span class="sxs-lookup"><span data-stu-id="18b21-197">It is also possible to embed script blocks within an XSLT style sheet.</span></span> <span data-ttu-id="18b21-198">Ambos os casos gerenciem uma ameaça potencial de segurança ao seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="18b21-198">Both cases pose a potential security threat to your app.</span></span>  
  
 <span data-ttu-id="18b21-199">Ao criar um aplicativo que use o <xref:System.Xml.Xsl.XslCompiledTransform> de classe, você deve estar ciente dos seguintes itens e suas implicações:</span><span class="sxs-lookup"><span data-stu-id="18b21-199">When creating an app that uses the <xref:System.Xml.Xsl.XslCompiledTransform> class, you should be aware of the following items and their implications:</span></span>  
  
-   <span data-ttu-id="18b21-200">O script XSLT é desativado por padrão.</span><span class="sxs-lookup"><span data-stu-id="18b21-200">XSLT scripting is disabled by default.</span></span> <span data-ttu-id="18b21-201">O script XSLT deverá ser habilitado somente se você precisar de suporte a script e estiver trabalhando em um ambiente totalmente confiável.</span><span class="sxs-lookup"><span data-stu-id="18b21-201">XSLT scripting should be enabled only if you require script support and you are working in a fully trusted environment.</span></span>  
  
-   <span data-ttu-id="18b21-202">A função XSLT `document()` é desativada por padrão.</span><span class="sxs-lookup"><span data-stu-id="18b21-202">The XSLT `document()` function is disabled by default.</span></span> <span data-ttu-id="18b21-203">Se você ativar a função de `document()` , restringir os recursos que podem ser acessados passando um objeto de <xref:System.Xml.XmlSecureResolver> para o método de <xref:System.Xml.Xsl.XslCompiledTransform.Transform%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="18b21-203">If you enable the `document()` function, restrict the resources that can be accessed by passing an <xref:System.Xml.XmlSecureResolver> object to the <xref:System.Xml.Xsl.XslCompiledTransform.Transform%2A?displayProperty=nameWithType> method.</span></span>  
  
-   <span data-ttu-id="18b21-204">Os objetos de extensão estão habilitados por padrão.</span><span class="sxs-lookup"><span data-stu-id="18b21-204">Extension objects are enabled by default.</span></span> <span data-ttu-id="18b21-205">Se um objeto de <xref:System.Xml.Xsl.XsltArgumentList> que contém objetos de extensão é passado para o método de <xref:System.Xml.Xsl.XslCompiledTransform.Transform%2A?displayProperty=nameWithType> , os objetos de extensão são usados.</span><span class="sxs-lookup"><span data-stu-id="18b21-205">If an <xref:System.Xml.Xsl.XsltArgumentList> object that contains extension objects is passed to the <xref:System.Xml.Xsl.XslCompiledTransform.Transform%2A?displayProperty=nameWithType> method, the extension objects are used.</span></span>  
  
-   <span data-ttu-id="18b21-206">As folhas de estilos XSLT podem incluir referências a outros arquivos e blocos de script inseridos.</span><span class="sxs-lookup"><span data-stu-id="18b21-206">XSLT style sheets can include references to other files and embedded script blocks.</span></span> <span data-ttu-id="18b21-207">Um usuário mal-intencionado pode explorar isto fornecendo o com dados ou folhas de estilos que, quando executados, podem fazer com que seu sistema processa até o computador executam baixo em recursos.</span><span class="sxs-lookup"><span data-stu-id="18b21-207">A malicious user can exploit this by supplying you with data or style sheets that, when executed, can cause your system to process until the computer runs low on resources.</span></span>  
  
-   <span data-ttu-id="18b21-208">Aplicativos XSLT que são executados em um ambiente de confiança misturado podem resultar em falsificação de folha de estilo.</span><span class="sxs-lookup"><span data-stu-id="18b21-208">XSLT apps that run in a mixed trust environment can result in style sheet spoofing.</span></span> <span data-ttu-id="18b21-209">Por exemplo, um usuário mal-intencionado pode carregar um objeto com uma folha de estilos prejudicial e entregá-lo fora a outro usuário que subseqüentemente chama o método de <xref:System.Xml.Xsl.XslCompiledTransform.Transform%2A?displayProperty=nameWithType> e executa a transformação.</span><span class="sxs-lookup"><span data-stu-id="18b21-209">For example, a malicious user can load an object with a harmful style sheet and hand it off to another user who subsequently calls the <xref:System.Xml.Xsl.XslCompiledTransform.Transform%2A?displayProperty=nameWithType> method and executes the transformation.</span></span>  
  
 <span data-ttu-id="18b21-210">Essas questões de segurança podem ser abrandadas não ativando scripts ou função de `document()` a menos que a folha de estilos vem de uma fonte não confiável, e retornando objetos de <xref:System.Xml.Xsl.XslCompiledTransform> , dados de folhas de estilos XSLT, ou de código-fonte XML de uma fonte não confiável.</span><span class="sxs-lookup"><span data-stu-id="18b21-210">These security issues can be mitigated by not enabling scripting or the `document()` function unless the style sheet comes from a trusted source, and by not accepting <xref:System.Xml.Xsl.XslCompiledTransform> objects, XSLT style sheets, or XML source data from an untrusted source.</span></span>  
  
 <span data-ttu-id="18b21-211">**Tratamento de exceções**</span><span class="sxs-lookup"><span data-stu-id="18b21-211">**Exception handling**</span></span>  
  
 <span data-ttu-id="18b21-212">As exceções geradas por componentes de nível inferior podem revelar informações de caminho que você não deseja expostas ao aplicativo.</span><span class="sxs-lookup"><span data-stu-id="18b21-212">Exceptions thrown by lower level components can disclose path information that you do not want exposed to the app.</span></span> <span data-ttu-id="18b21-213">Os aplicativos devem capturar exceções e processá-las adequadamente.</span><span class="sxs-lookup"><span data-stu-id="18b21-213">Your apps must catch exceptions and process them appropriately.</span></span>  
  
 ]]></format>
    </remarks>
    <altmember cref="N:System.Xml.Xsl" />
    <altmember cref="N:System.Xml.Schema" />
    <altmember cref="N:System.Xml.Linq" />
    <related type="Article" href="~/docs/standard/data/xml/index.md"><span data-ttu-id="18b21-214">Documentos e dados XML</span><span class="sxs-lookup"><span data-stu-id="18b21-214">XML Documents and Data</span></span></related>
  </Docs>
</Namespace>