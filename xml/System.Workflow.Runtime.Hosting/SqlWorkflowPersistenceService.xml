<Type Name="SqlWorkflowPersistenceService" FullName="System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService">
  <Metadata>
    <Meta Name="ms.openlocfilehash" Value="7258e2f9ce6c02daad9e16a4ffd45e4f7174ab18" />
    <Meta Name="ms.sourcegitcommit" Value="cc0c87a2e12b0fb9ba9ecdd3d4950f0572524db8" />
    <Meta Name="ms.translationtype" Value="HT" />
    <Meta Name="ms.contentlocale" Value="pt-BR" />
    <Meta Name="ms.lasthandoff" Value="05/03/2018" />
    <Meta Name="ms.locfileid" Value="32694446" />
  </Metadata>
  <TypeSignature Language="C#" Value="public class SqlWorkflowPersistenceService : System.Workflow.Runtime.Hosting.WorkflowPersistenceService, System.Workflow.Runtime.IPendingWork" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi beforefieldinit SqlWorkflowPersistenceService extends System.Workflow.Runtime.Hosting.WorkflowPersistenceService implements class System.Workflow.Runtime.IPendingWork" />
  <TypeSignature Language="DocId" Value="T:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService" />
  <TypeSignature Language="VB.NET" Value="Public Class SqlWorkflowPersistenceService&#xA;Inherits WorkflowPersistenceService&#xA;Implements IPendingWork" />
  <TypeSignature Language="C++ CLI" Value="public ref class SqlWorkflowPersistenceService : System::Workflow::Runtime::Hosting::WorkflowPersistenceService, System::Workflow::Runtime::IPendingWork" />
  <AssemblyInfo>
    <AssemblyName>System.Workflow.Runtime</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Workflow.Runtime.Hosting.WorkflowPersistenceService</BaseTypeName>
  </Base>
  <Interfaces>
    <Interface>
      <InterfaceName>System.Workflow.Runtime.IPendingWork</InterfaceName>
    </Interface>
  </Interfaces>
  <Attributes>
    <Attribute>
      <AttributeName>System.Obsolete("The System.Workflow.* types are deprecated.  Instead, please use the new types from System.Activities.*")</AttributeName>
    </Attribute>
  </Attributes>
  <Docs>
    <summary>
      <span data-ttu-id="2ba59-101">Representa um serviço de persistência que usa um banco de dados SQL para armazenar informações de estado do fluxo de trabalho.</span>
      <span class="sxs-lookup">
        <span data-stu-id="2ba59-101">Represents a persistence service that uses a SQL database to store workflow state information.</span>
      </span>
    </summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
  
> [!NOTE]
>  [!INCLUDE[DeprecatedContent](~/includes/deprecatedcontent-md.md)]  
  
 <span data-ttu-id="2ba59-102">O <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService> classe representa um serviço de persistência totalmente funcional.</span><span class="sxs-lookup"><span data-stu-id="2ba59-102">The <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService> class represents a fully-functional persistence service.</span></span> <span data-ttu-id="2ba59-103">Você pode usar este serviço fora da caixa para persistir e recuperar informações de estado de fluxo de trabalho sobre uma instância de fluxo de trabalho quando solicitado pelo mecanismo de tempo de execução de fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="2ba59-103">You can use this service out-of-box to persist and retrieve workflow state information about a workflow instance when requested to by the workflow runtime engine.</span></span>  
  
 <span data-ttu-id="2ba59-104">O <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService> participa de transações de fluxo de trabalho em lotes funcionalidade fornecida pelo <xref:System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService>.</span><span class="sxs-lookup"><span data-stu-id="2ba59-104">The <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService> participates in the workflow transaction batching functionality provided by the <xref:System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService>.</span></span> <span data-ttu-id="2ba59-105">Ou seja, ele adiciona objetos que representam pendente grava no banco de dados SQL para o <xref:System.Workflow.Runtime.WorkflowEnvironment.WorkBatch%2A> e implementa o <xref:System.Workflow.Runtime.IPendingWork> interface.</span><span class="sxs-lookup"><span data-stu-id="2ba59-105">That is, it adds objects that represent pending writes to the SQL database to the <xref:System.Workflow.Runtime.WorkflowEnvironment.WorkBatch%2A> and implements the <xref:System.Workflow.Runtime.IPendingWork> interface.</span></span>  
  
 <span data-ttu-id="2ba59-106">O <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService> oferece suporte ao bloqueio de instâncias de fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="2ba59-106">The <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService> supports locking of workflow instances.</span></span> <span data-ttu-id="2ba59-107">Esse recurso é usado quando vários tempos de execução do fluxo de trabalho compartilham o mesmo banco de dados.</span><span class="sxs-lookup"><span data-stu-id="2ba59-107">This feature is used when several workflow runtimes share the same database.</span></span> <span data-ttu-id="2ba59-108">Uma coluna na tabela de banco de dados SQL é usada para marcar uma instância de fluxo de trabalho como bloqueada sempre que ele está sendo usado por um tempo de execução do fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="2ba59-108">A column in the SQL database table is used to mark a workflow instance as locked whenever it is being used by a workflow runtime.</span></span> <span data-ttu-id="2ba59-109">O <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService> não carregar uma instância de fluxo de trabalho que está marcada como "em uso" pelo tempo de execução de outro.</span><span class="sxs-lookup"><span data-stu-id="2ba59-109">The <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService> does not load a workflow instance that is marked as "in use" by another runtime.</span></span> <span data-ttu-id="2ba59-110">Normalmente esses bloqueios são liberados quando a instância de fluxo de trabalho é mantida, por exemplo, ocioso, após a conclusão, ou o encerramento.</span><span class="sxs-lookup"><span data-stu-id="2ba59-110">Typically these locks are released when the workflow instance is persisted, for example, on idle, completion, or termination.</span></span> <span data-ttu-id="2ba59-111">Também é possível liberar os bloqueios automaticamente após um período de inatividade.</span><span class="sxs-lookup"><span data-stu-id="2ba59-111">The locks can also be released automatically after a period of inactivity.</span></span> <span data-ttu-id="2ba59-112">Esse período de inatividade pode ser definido usando o construtor do <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService> classe.</span><span class="sxs-lookup"><span data-stu-id="2ba59-112">This period of inactivity can be set using the constructor of the <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService> class.</span></span>  <span data-ttu-id="2ba59-113">Ele também pode ser definido por meio do arquivo de configuração.</span><span class="sxs-lookup"><span data-stu-id="2ba59-113">It can also be set through the configuration file.</span></span>  
  
 <span data-ttu-id="2ba59-114">Para obter mais informações sobre a persistência de serviços em geral, consulte o <xref:System.Workflow.Runtime.Hosting.WorkflowPersistenceService> classe.</span><span class="sxs-lookup"><span data-stu-id="2ba59-114">For more information about persistence services in general, see the <xref:System.Workflow.Runtime.Hosting.WorkflowPersistenceService> class.</span></span>  
  
 <span data-ttu-id="2ba59-115">Instâncias de fluxo de trabalho podem conter temporizadores, por exemplo, se tiverem um <xref:System.Workflow.Activities.DelayActivity>.</span><span class="sxs-lookup"><span data-stu-id="2ba59-115">Workflow instances can contain timers, for example, if they have a <xref:System.Workflow.Activities.DelayActivity>.</span></span> <span data-ttu-id="2ba59-116">Para fluxos de trabalho que contêm temporizadores, o <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService> registra a hora de expiração do temporizador próximo do fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="2ba59-116">For workflows that contain timers, the <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService> records the time when the workflow's next timer expires.</span></span> <span data-ttu-id="2ba59-117">O <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService> periodicamente pesquisa o banco de dados, procurando por fluxos de trabalho cujos temporizadores expiraram.</span><span class="sxs-lookup"><span data-stu-id="2ba59-117">The <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService> periodically polls the database, looking for workflows whose timers have expired.</span></span> <span data-ttu-id="2ba59-118">A frequência do intervalo de sondagem pode ser definida usando o <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService> construtor ou usando um arquivo de configuração.</span><span class="sxs-lookup"><span data-stu-id="2ba59-118">The frequency of the polling interval can be set using the <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService> constructor or using a configuration file.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="2ba59-119">Ao usar ambos os <xref:System.Workflow.Runtime.Tracking.SqlTrackingService> e o <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService> em um aplicativo de fluxo de trabalho, é recomendável usar um único banco de dados de persistência e rastreamento.</span><span class="sxs-lookup"><span data-stu-id="2ba59-119">When using both the <xref:System.Workflow.Runtime.Tracking.SqlTrackingService> and the <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService> in a workflow application, it is recommended to use a single database for both persistence and tracking.</span></span>  
  
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <MemberGroup MemberName=".ctor">
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary>
          <span data-ttu-id="2ba59-120">Inicializa uma nova instância da classe <see cref="T:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-120">Initializes a new instance of the <see cref="T:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService" /> class.</span>
          </span>
        </summary>
      </Docs>
    </MemberGroup>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public SqlWorkflowPersistenceService (System.Collections.Specialized.NameValueCollection parameters);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(class System.Collections.Specialized.NameValueCollection parameters) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.#ctor(System.Collections.Specialized.NameValueCollection)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (parameters As NameValueCollection)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; SqlWorkflowPersistenceService(System::Collections::Specialized::NameValueCollection ^ parameters);" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="parameters" Type="System.Collections.Specialized.NameValueCollection" />
      </Parameters>
      <Docs>
        <param name="parameters">
          <span data-ttu-id="2ba59-121">Um <see cref="T:System.Collections.Specialized.NameValueCollection" /> que contém parâmetros de inicialização.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-121">A <see cref="T:System.Collections.Specialized.NameValueCollection" /> that contains startup parameters.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="2ba59-122">Inicializa uma nova instância da classe <see cref="T:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService" /> usando os parâmetros especificados.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-122">Initializes a new instance of the <see cref="T:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService" /> class by using the specified parameters.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="2ba59-123">Este construtor é invocado quando o mecanismo de tempo de execução do fluxo de trabalho carrega os serviços de um arquivo de configuração do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="2ba59-123">This constructor is invoked when the workflow runtime engine loads services from an application configuration file.</span></span> <span data-ttu-id="2ba59-124">Ele pode ser chamado também programaticamente com o `NameValueCollection` parâmetro.</span><span class="sxs-lookup"><span data-stu-id="2ba59-124">It can also be programmatically invoked with the `NameValueCollection` parameter.</span></span> <span data-ttu-id="2ba59-125">Os parâmetros válidos são `ConnectionString`, `OwnershipTimeoutSeconds`, `UnloadOnIdle`, e `EnableRetries`.</span><span class="sxs-lookup"><span data-stu-id="2ba59-125">The valid parameters are `ConnectionString`, `OwnershipTimeoutSeconds`, `UnloadOnIdle`, and `EnableRetries`.</span></span> <span data-ttu-id="2ba59-126">Um <xref:System.ArgumentException> será lançada se parâmetros contêm todas as outras chaves.</span><span class="sxs-lookup"><span data-stu-id="2ba59-126">An <xref:System.ArgumentException> is thrown if parameters contain any other keys.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException">
          <span data-ttu-id="2ba59-127">
            <paramref name="parameters" /> contém uma cadeia de conexão de banco de dados inválida.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-127">
              <paramref name="parameters" /> contains an invalid database connection string.</span>
          </span>
        </exception>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="2ba59-128">
            <paramref name="parameters" /> é uma referência nula (<see langword="Nothing" /> no Visual Basic).</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-128">
              <paramref name="parameters" /> is a null reference (<see langword="Nothing" /> in Visual Basic).</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public SqlWorkflowPersistenceService (string connectionString);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(string connectionString) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.#ctor(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (connectionString As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; SqlWorkflowPersistenceService(System::String ^ connectionString);" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="connectionString" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="connectionString">
          <span data-ttu-id="2ba59-129">Uma cadeia de conexão de banco de dados válida.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-129">A valid database connection string.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="2ba59-130">Inicializa uma nova instância da classe <see cref="T:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService" /> usando a cadeia de conexão de banco de dados.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-130">Initializes a new instance of the <see cref="T:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService" /> class by using the database connection string.</span>
          </span>
        </summary>
        <remarks>To be added.</remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="2ba59-131">
            <paramref name="connectionString" /> é uma referência nula (<see langword="Nothing" /> no Visual Basic).</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-131">
              <paramref name="connectionString" /> is a null reference (<see langword="Nothing" /> in Visual Basic).</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public SqlWorkflowPersistenceService (string connectionString, bool unloadOnIdle, TimeSpan instanceOwnershipDuration, TimeSpan loadingInterval);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(string connectionString, bool unloadOnIdle, valuetype System.TimeSpan instanceOwnershipDuration, valuetype System.TimeSpan loadingInterval) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.#ctor(System.String,System.Boolean,System.TimeSpan,System.TimeSpan)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (connectionString As String, unloadOnIdle As Boolean, instanceOwnershipDuration As TimeSpan, loadingInterval As TimeSpan)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; SqlWorkflowPersistenceService(System::String ^ connectionString, bool unloadOnIdle, TimeSpan instanceOwnershipDuration, TimeSpan loadingInterval);" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="connectionString" Type="System.String" />
        <Parameter Name="unloadOnIdle" Type="System.Boolean" />
        <Parameter Name="instanceOwnershipDuration" Type="System.TimeSpan" />
        <Parameter Name="loadingInterval" Type="System.TimeSpan" />
      </Parameters>
      <Docs>
        <param name="connectionString">
          <span data-ttu-id="2ba59-132">Uma cadeia de conexão de banco de dados válida.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-132">A valid database connection string.</span>
          </span>
        </param>
        <param name="unloadOnIdle">
          <span data-ttu-id="2ba59-133">
            <see langword="true" /> para descarregar o fluxo de trabalho quando ele está em um estado ocioso.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-133">
              <see langword="true" /> to unload the workflow when it is in an idle state.</span>
          </span>
        </param>
        <param name="instanceOwnershipDuration">
          <span data-ttu-id="2ba59-134">O período durante o qual os bloqueios são mantidos nos fluxos de trabalho ociosos.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-134">The length of time that locks are maintained on idle workflows.</span>
          </span>
        </param>
        <param name="loadingInterval">
          <span data-ttu-id="2ba59-135">A frequência em que o serviço de persistência sonda o banco de dados quanto a fluxos de trabalho com temporizadores expirados.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-135">The frequency at which the persistence service polls the database for workflows with expired timers.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="2ba59-136">Inicializa uma nova instância da classe <see cref="T:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService" /> usando a cadeia de conexão de banco de dados e outros padrões.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-136">Initializes a new instance of the <see cref="T:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService" /> class using a database connection string and other parameters.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="2ba59-137">Observe que usando este construtor (que fornece um valor para `instanceOwnershipDuration`) permite que o bloqueio.</span><span class="sxs-lookup"><span data-stu-id="2ba59-137">Note that using this constructor (which provides a value for `instanceOwnershipDuration`) enables locking.</span></span> <span data-ttu-id="2ba59-138">Para criar um serviço de persistência que não permite o bloqueio, use um construtor diferente que não especificam `instanceOwnershipDuration`.</span><span class="sxs-lookup"><span data-stu-id="2ba59-138">To create a persistence service that does not enable locking, use a different constructor that does not specify `instanceOwnershipDuration`.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="2ba59-139">
            <paramref name="connectionString" /> é uma referência nula (<see langword="Nothing" /> no Visual Basic).</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-139">
              <paramref name="connectionString" /> is a null reference (<see langword="Nothing" /> in Visual Basic).</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="EnableRetries">
      <MemberSignature Language="C#" Value="public bool EnableRetries { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool EnableRetries" />
      <MemberSignature Language="DocId" Value="P:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.EnableRetries" />
      <MemberSignature Language="VB.NET" Value="Public Property EnableRetries As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property bool EnableRetries { bool get(); void set(bool value); };" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="2ba59-140">Obtém e define um valor que especifica se o <see cref="T:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService" /> tentará novamente confirmar um lote de trabalho.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-140">Gets and sets a value that specifies whether the <see cref="T:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService" /> retries committing a work batch.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="2ba59-141">
            <see langword="true" /> Se o serviço deverá repetir a confirmar o lote de trabalho; Caso contrário, <see langword="false" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-141">
              <see langword="true" /> if the service should retry committing the work batch; otherwise, <see langword="false" />.</span>
          </span>
          <span data-ttu-id="2ba59-142">O padrão é <see langword="false" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-142">The default is <see langword="false" />.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="2ba59-143">Os seguintes itens de trabalho não podem ser colocado em lote e quaisquer tentativas de transação devem ser controladas por meio de `EnableRetries` propriedade:</span><span class="sxs-lookup"><span data-stu-id="2ba59-143">The following work items cannot be batched and any transaction retries must be handled through the `EnableRetries` property:</span></span>  
  
-   <span data-ttu-id="2ba59-144">Sondagem de temporizadores expirados do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="2ba59-144">Polling for expired database timers.</span></span>  
  
-   <span data-ttu-id="2ba59-145">Carregando os estados de instância de fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="2ba59-145">Loading workflow instance states.</span></span>  
  
-   <span data-ttu-id="2ba59-146">Recarregar instâncias de fluxo de trabalho quando o mecanismo de tempo de execução do fluxo de trabalho é iniciado.</span><span class="sxs-lookup"><span data-stu-id="2ba59-146">Reloading workflow instances when the workflow run-time engine starts.</span></span>  
  
-   <span data-ttu-id="2ba59-147">Chamando <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.GetAllWorkflows%2A>.</span><span class="sxs-lookup"><span data-stu-id="2ba59-147">Calling <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.GetAllWorkflows%2A>.</span></span>  
  
 <span data-ttu-id="2ba59-148">Além do que está sendo definido programaticamente, essa funcionalidade pode ser habilitada por meio de um arquivo de configuração.</span><span class="sxs-lookup"><span data-stu-id="2ba59-148">Besides being set programmatically, this functionality can be enabled through a configuration file.</span></span> <span data-ttu-id="2ba59-149">Para obter mais informações sobre como definir essa propriedade através de um arquivo de configuração, consulte [arquivos de configuração do fluxo de trabalho](http://msdn.microsoft.com/library/ada4bb90-6c9d-4f3d-a9d0-b559bb0f9909).</span><span class="sxs-lookup"><span data-stu-id="2ba59-149">For more information about how to set this property through a configuration file, see [Workflow Configuration Files](http://msdn.microsoft.com/library/ada4bb90-6c9d-4f3d-a9d0-b559bb0f9909).</span></span>  
  
 <span data-ttu-id="2ba59-150">Para obter informações gerais sobre como recuperar as transações do trabalho em lotes, consulte [informações de estado de processamento em lotes em fluxos de trabalho](http://msdn.microsoft.com/library/ecda18ba-9140-4bd7-b13d-6787fdf5959d).</span><span class="sxs-lookup"><span data-stu-id="2ba59-150">For general information about retrying work batch transactions, see [Batching State Information in Workflows](http://msdn.microsoft.com/library/ecda18ba-9140-4bd7-b13d-6787fdf5959d).</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="GetAllWorkflows">
      <MemberSignature Language="C#" Value="public System.Collections.Generic.IEnumerable&lt;System.Workflow.Runtime.Hosting.SqlPersistenceWorkflowInstanceDescription&gt; GetAllWorkflows ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Collections.Generic.IEnumerable`1&lt;class System.Workflow.Runtime.Hosting.SqlPersistenceWorkflowInstanceDescription&gt; GetAllWorkflows() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.GetAllWorkflows" />
      <MemberSignature Language="VB.NET" Value="Public Function GetAllWorkflows () As IEnumerable(Of SqlPersistenceWorkflowInstanceDescription)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Collections::Generic::IEnumerable&lt;System::Workflow::Runtime::Hosting::SqlPersistenceWorkflowInstanceDescription ^&gt; ^ GetAllWorkflows();" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Collections.Generic.IEnumerable&lt;System.Workflow.Runtime.Hosting.SqlPersistenceWorkflowInstanceDescription&gt;</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="2ba59-151">Recupera descrições de instâncias de todos os fluxos de trabalho persistidos.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-151">Retrieves instance descriptions of all persisted workflows.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="2ba59-152">Uma lista de todos os fluxos de trabalho persistidos.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-152">A list of all persisted workflows.</span>
          </span>
        </returns>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="LoadCompletedContextActivity">
      <MemberSignature Language="C#" Value="protected internal override System.Workflow.ComponentModel.Activity LoadCompletedContextActivity (Guid id, System.Workflow.ComponentModel.Activity outerActivity);" />
      <MemberSignature Language="ILAsm" Value=".method familyorassemblyhidebysig virtual instance class System.Workflow.ComponentModel.Activity LoadCompletedContextActivity(valuetype System.Guid id, class System.Workflow.ComponentModel.Activity outerActivity) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.LoadCompletedContextActivity(System.Guid,System.Workflow.ComponentModel.Activity)" />
      <MemberSignature Language="VB.NET" Value="Protected Friend Overrides Function LoadCompletedContextActivity (id As Guid, outerActivity As Activity) As Activity" />
      <MemberSignature Language="C++ CLI" Value="protected public:&#xA; override System::Workflow::ComponentModel::Activity ^ LoadCompletedContextActivity(Guid id, System::Workflow::ComponentModel::Activity ^ outerActivity);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Workflow.ComponentModel.Activity</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="id" Type="System.Guid" />
        <Parameter Name="outerActivity" Type="System.Workflow.ComponentModel.Activity" />
      </Parameters>
      <Docs>
        <param name="id">
          <span data-ttu-id="2ba59-153">O <see cref="T:System.Guid" /> da atividade de escopo.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-153">The <see cref="T:System.Guid" /> of the scope activity.</span>
          </span>
        </param>
        <param name="outerActivity">
          <span data-ttu-id="2ba59-154">O <see cref="T:System.Workflow.ComponentModel.Activity" /> que inclui a atividade de escopo.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-154">The <see cref="T:System.Workflow.ComponentModel.Activity" /> that encloses the scope activity.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="2ba59-155">Recupera o escopo concluído especificado do banco de dados.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-155">Retrieves the specified completed scope from the database.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="2ba59-156">Uma <see cref="T:System.Workflow.ComponentModel.Activity" /> que representa o escopo concluído.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-156">An <see cref="T:System.Workflow.ComponentModel.Activity" /> that represents the completed scope.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="2ba59-157">O mecanismo de tempo de execução do fluxo de trabalho usa <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.LoadCompletedContextActivity%2A> durante a compensação.</span><span class="sxs-lookup"><span data-stu-id="2ba59-157">The workflow run-time engine uses <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.LoadCompletedContextActivity%2A> during compensation.</span></span> <span data-ttu-id="2ba59-158"><xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.LoadCompletedContextActivity%2A> só deve ser chamado pelo mecanismo de tempo de execução de fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="2ba59-158"><xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.LoadCompletedContextActivity%2A> should only be called by the workflow run-time engine.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="2ba59-159">Um escopo que corresponde a <paramref name="id" /> não pôde ser encontrado no banco de dados.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-159">A scope that matches <paramref name="id" /> could not be found in the database.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="LoadExpiredTimerWorkflowIds">
      <MemberSignature Language="C#" Value="public System.Collections.Generic.IList&lt;Guid&gt; LoadExpiredTimerWorkflowIds ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Collections.Generic.IList`1&lt;valuetype System.Guid&gt; LoadExpiredTimerWorkflowIds() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.LoadExpiredTimerWorkflowIds" />
      <MemberSignature Language="VB.NET" Value="Public Function LoadExpiredTimerWorkflowIds () As IList(Of Guid)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Collections::Generic::IList&lt;Guid&gt; ^ LoadExpiredTimerWorkflowIds();" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Collections.Generic.IList&lt;System.Guid&gt;</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="2ba59-160">Recupera uma lista de IDs para fluxos de trabalho com temporizadores expirados.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-160">Retrieves a list of ids for workflows with expired timers.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="2ba59-161">Uma lista de IDs para fluxos de trabalho com temporizadores expirados.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-161">A list of ids for workflows with expired timers.</span>
          </span>
        </returns>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="LoadingInterval">
      <MemberSignature Language="C#" Value="public TimeSpan LoadingInterval { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance valuetype System.TimeSpan LoadingInterval" />
      <MemberSignature Language="DocId" Value="P:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.LoadingInterval" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property LoadingInterval As TimeSpan" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property TimeSpan LoadingInterval { TimeSpan get(); };" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.TimeSpan</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="2ba59-162">Obtém o comprimento do intervalo de carregamento.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-162">Gets the length of the loading interval.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="2ba59-163">A frequência em que o serviço de persistência sonda o banco de dados quanto a fluxos de trabalho com temporizadores expirados.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-163">The frequency at which the persistence service polls the database for workflows with expired timers.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="2ba59-164">O valor padrão é 2 minutos.</span><span class="sxs-lookup"><span data-stu-id="2ba59-164">The default value is 2 minutes.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="LoadWorkflowInstanceState">
      <MemberSignature Language="C#" Value="protected internal override System.Workflow.ComponentModel.Activity LoadWorkflowInstanceState (Guid id);" />
      <MemberSignature Language="ILAsm" Value=".method familyorassemblyhidebysig virtual instance class System.Workflow.ComponentModel.Activity LoadWorkflowInstanceState(valuetype System.Guid id) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.LoadWorkflowInstanceState(System.Guid)" />
      <MemberSignature Language="VB.NET" Value="Protected Friend Overrides Function LoadWorkflowInstanceState (id As Guid) As Activity" />
      <MemberSignature Language="C++ CLI" Value="protected public:&#xA; override System::Workflow::ComponentModel::Activity ^ LoadWorkflowInstanceState(Guid id);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Workflow.ComponentModel.Activity</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="id" Type="System.Guid" />
      </Parameters>
      <Docs>
        <param name="id">
          <span data-ttu-id="2ba59-165">O <see cref="T:System.Guid" /> do estado da instância de fluxo de trabalho.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-165">The <see cref="T:System.Guid" /> of the workflow instance state.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="2ba59-166">Recupera o estado da instância de fluxo de trabalho especificada do banco de dados.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-166">Retrieves the specified workflow instance state from the database.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="2ba59-167">Uma <see cref="T:System.Workflow.ComponentModel.Activity" /> que representa a atividade raiz da instância do fluxo de trabalho.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-167">An <see cref="T:System.Workflow.ComponentModel.Activity" /> that represents the root activity of the workflow instance.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="2ba59-168"><xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.LoadWorkflowInstanceState%2A> só deve ser chamado pelo mecanismo de tempo de execução de fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="2ba59-168"><xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.LoadWorkflowInstanceState%2A> should only be called by the workflow run-time engine.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException">
          <span data-ttu-id="2ba59-169">Um estado da instância de fluxo de trabalho que corresponde a <paramref name="id" /> não pôde ser encontrado no banco de dados.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-169">A workflow instance state that matches <paramref name="id" /> could not be found in the database.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="OnStarted">
      <MemberSignature Language="C#" Value="protected override void OnStarted ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig virtual instance void OnStarted() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.OnStarted" />
      <MemberSignature Language="VB.NET" Value="Protected Overrides Sub OnStarted ()" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; override void OnStarted();" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="2ba59-170">Inicia um novo cronômetro e recupera instâncias de fluxo de trabalho em execução.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-170">Starts a new timer and recovers running workflow instances.</span>
          </span>
        </summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="SaveCompletedContextActivity">
      <MemberSignature Language="C#" Value="protected internal override void SaveCompletedContextActivity (System.Workflow.ComponentModel.Activity completedScopeActivity);" />
      <MemberSignature Language="ILAsm" Value=".method familyorassemblyhidebysig virtual instance void SaveCompletedContextActivity(class System.Workflow.ComponentModel.Activity completedScopeActivity) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.SaveCompletedContextActivity(System.Workflow.ComponentModel.Activity)" />
      <MemberSignature Language="VB.NET" Value="Protected Friend Overrides Sub SaveCompletedContextActivity (completedScopeActivity As Activity)" />
      <MemberSignature Language="C++ CLI" Value="protected public:&#xA; override void SaveCompletedContextActivity(System::Workflow::ComponentModel::Activity ^ completedScopeActivity);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="completedScopeActivity" Type="System.Workflow.ComponentModel.Activity" />
      </Parameters>
      <Docs>
        <param name="completedScopeActivity">
          <span data-ttu-id="2ba59-171">Um <see cref="T:System.Workflow.ComponentModel.Activity" /> que representa o escopo concluído.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-171">An <see cref="T:System.Workflow.ComponentModel.Activity" /> that represents the completed scope.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="2ba59-172">Salva o estado do escopo concluído especificado.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-172">Saves the state of the specified completed scope.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="2ba59-173">`completedScopeActivity` é serializado e adicionadas para o <xref:System.Workflow.Runtime.WorkflowEnvironment.WorkBatch%2A>.</span><span class="sxs-lookup"><span data-stu-id="2ba59-173">`completedScopeActivity` is serialized and added to the <xref:System.Workflow.Runtime.WorkflowEnvironment.WorkBatch%2A>.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SaveWorkflowInstanceState">
      <MemberSignature Language="C#" Value="protected internal override void SaveWorkflowInstanceState (System.Workflow.ComponentModel.Activity rootActivity, bool unlock);" />
      <MemberSignature Language="ILAsm" Value=".method familyorassemblyhidebysig virtual instance void SaveWorkflowInstanceState(class System.Workflow.ComponentModel.Activity rootActivity, bool unlock) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.SaveWorkflowInstanceState(System.Workflow.ComponentModel.Activity,System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Protected Friend Overrides Sub SaveWorkflowInstanceState (rootActivity As Activity, unlock As Boolean)" />
      <MemberSignature Language="C++ CLI" Value="protected public:&#xA; override void SaveWorkflowInstanceState(System::Workflow::ComponentModel::Activity ^ rootActivity, bool unlock);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="rootActivity" Type="System.Workflow.ComponentModel.Activity" />
        <Parameter Name="unlock" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="rootActivity">
          <span data-ttu-id="2ba59-174">A atividade raiz da instância do fluxo de trabalho.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-174">The root activity of the workflow instance.</span>
          </span>
        </param>
        <param name="unlock">
          <span data-ttu-id="2ba59-175">
            <see langword="true" /> se a instância de fluxo de trabalho não deve ser bloqueada; <see langword="false" /> se a instância de fluxo de trabalho deve ser bloqueada.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-175">
              <see langword="true" /> if the workflow instance should not be locked; <see langword="false" /> if the workflow instance should be locked.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="2ba59-176">Salva o estado da instância de fluxo de trabalho especificada.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-176">Saves the specified workflow instance state.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="2ba59-177">`rootActivity` é serializado e gravado a <xref:System.Workflow.Runtime.WorkflowEnvironment.WorkBatch%2A>.</span><span class="sxs-lookup"><span data-stu-id="2ba59-177">`rootActivity` is serialized and written to the <xref:System.Workflow.Runtime.WorkflowEnvironment.WorkBatch%2A>.</span></span> <span data-ttu-id="2ba59-178">O out-of-box <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService> estado da instância implementa o bloqueio do fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="2ba59-178">The out-of-box <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService> implements locking of the workflow instance state.</span></span> <span data-ttu-id="2ba59-179">O usuário deverá configurar o `instanceOwnershipDuration` parâmetro no construtor.</span><span class="sxs-lookup"><span data-stu-id="2ba59-179">The user must configure the `instanceOwnershipDuration` parameter in the constructor.</span></span> <span data-ttu-id="2ba59-180">Esse valor decide o intervalo de tempo durante o qual a instância pode ser bloqueada por um host.</span><span class="sxs-lookup"><span data-stu-id="2ba59-180">This value decides the time interval during which the instance can be locked by a host.</span></span> <span data-ttu-id="2ba59-181">Se vários hosts compartilham o mesmo serviço de persistência e banco de dados e outro host tenta carregar a instância durante esse intervalo, um <xref:System.Workflow.Runtime.WorkflowOwnershipException> ocorre.</span><span class="sxs-lookup"><span data-stu-id="2ba59-181">If multiple hosts share the same persistence service and database, and another host tries to load the instance during this interval, a <xref:System.Workflow.Runtime.WorkflowOwnershipException> occurs.</span></span> <span data-ttu-id="2ba59-182">Para obter mais informações, consulte a classe <xref:System.Workflow.Runtime.Hosting.WorkflowPersistenceService>.</span><span class="sxs-lookup"><span data-stu-id="2ba59-182">For more information, see the <xref:System.Workflow.Runtime.Hosting.WorkflowPersistenceService> class.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ServiceInstanceId">
      <MemberSignature Language="C#" Value="public Guid ServiceInstanceId { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance valuetype System.Guid ServiceInstanceId" />
      <MemberSignature Language="DocId" Value="P:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.ServiceInstanceId" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property ServiceInstanceId As Guid" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property Guid ServiceInstanceId { Guid get(); };" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Guid</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="2ba59-183">Obtém o identificador da instância de serviço.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-183">Gets the service instance identifier.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="2ba59-184">O identificador de instância de serviço.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-184">The service instance identifier.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="2ba59-185">O valor padrão é `Guid.Empty`.</span><span class="sxs-lookup"><span data-stu-id="2ba59-185">The default value is `Guid.Empty`.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="Start">
      <MemberSignature Language="C#" Value="protected internal override void Start ();" />
      <MemberSignature Language="ILAsm" Value=".method familyorassemblyhidebysig virtual instance void Start() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.Start" />
      <MemberSignature Language="VB.NET" Value="Protected Friend Overrides Sub Start ()" />
      <MemberSignature Language="C++ CLI" Value="protected public:&#xA; override void Start();" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="2ba59-186">Inicia o <see cref="T:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-186">Starts the <see cref="T:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService" />.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="2ba59-187"><xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.Start%2A> só deve ser chamado pelo mecanismo de tempo de execução de fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="2ba59-187"><xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.Start%2A> must only be called by the workflow run-time engine.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="Stop">
      <MemberSignature Language="C#" Value="protected internal override void Stop ();" />
      <MemberSignature Language="ILAsm" Value=".method familyorassemblyhidebysig virtual instance void Stop() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.Stop" />
      <MemberSignature Language="VB.NET" Value="Protected Friend Overrides Sub Stop ()" />
      <MemberSignature Language="C++ CLI" Value="protected public:&#xA; override void Stop();" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="2ba59-188">Interrompe o serviço e o temporizador.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-188">Stops the service and the timer.</span>
          </span>
        </summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="System.Workflow.Runtime.IPendingWork.Commit">
      <MemberSignature Language="C#" Value="void IPendingWork.Commit (System.Transactions.Transaction transaction, System.Collections.ICollection items);" />
      <MemberSignature Language="ILAsm" Value=".method hidebysig newslot virtual instance void System.Workflow.Runtime.IPendingWork.Commit(class System.Transactions.Transaction transaction, class System.Collections.ICollection items) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.System#Workflow#Runtime#IPendingWork#Commit(System.Transactions.Transaction,System.Collections.ICollection)" />
      <MemberSignature Language="C++ CLI" Value=" virtual void System.Workflow.Runtime.IPendingWork.Commit(System::Transactions::Transaction ^ transaction, System::Collections::ICollection ^ items) = System::Workflow::Runtime::IPendingWork::Commit;" />
      <MemberType>Method</MemberType>
      <Implements>
        <InterfaceMember>M:System.Workflow.Runtime.IPendingWork.Commit(System.Transactions.Transaction,System.Collections.ICollection)</InterfaceMember>
      </Implements>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="transaction" Type="System.Transactions.Transaction" />
        <Parameter Name="items" Type="System.Collections.ICollection" />
      </Parameters>
      <Docs>
        <param name="transaction">
          <span data-ttu-id="2ba59-189">Um <see cref="T:System.Transactions.Transaction" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-189">A <see cref="T:System.Transactions.Transaction" />.</span>
          </span>
        </param>
        <param name="items">
          <span data-ttu-id="2ba59-190">O <see cref="T:System.Collections.ICollection" /> de itens de trabalho a serem gravados no banco de dados.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-190">The <see cref="T:System.Collections.ICollection" /> of work items to be written to the database.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="2ba59-191">Grava um <see cref="T:System.Collections.ICollection" /> de objetos de estado serializados no banco de dados.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-191">Writes an <see cref="T:System.Collections.ICollection" /> of serialized state objects to the database.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="2ba59-192">Os objetos de estado serializado que estão contidos em `items` são gravados no banco de dados.</span><span class="sxs-lookup"><span data-stu-id="2ba59-192">The serialized state objects that are contained in `items` are written to the database.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.Workflow.Runtime.Hosting.PersistenceException">
          <span data-ttu-id="2ba59-193">Ocorreu um erro ao tentar gravar no banco de dados.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-193">An error occurred while trying to write to the database.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="System.Workflow.Runtime.IPendingWork.Complete">
      <MemberSignature Language="C#" Value="void IPendingWork.Complete (bool succeeded, System.Collections.ICollection items);" />
      <MemberSignature Language="ILAsm" Value=".method hidebysig newslot virtual instance void System.Workflow.Runtime.IPendingWork.Complete(bool succeeded, class System.Collections.ICollection items) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.System#Workflow#Runtime#IPendingWork#Complete(System.Boolean,System.Collections.ICollection)" />
      <MemberSignature Language="VB.NET" Value="Sub Complete (succeeded As Boolean, items As ICollection) Implements IPendingWork.Complete" />
      <MemberSignature Language="C++ CLI" Value=" virtual void System.Workflow.Runtime.IPendingWork.Complete(bool succeeded, System::Collections::ICollection ^ items) = System::Workflow::Runtime::IPendingWork::Complete;" />
      <MemberType>Method</MemberType>
      <Implements>
        <InterfaceMember>M:System.Workflow.Runtime.IPendingWork.Complete(System.Boolean,System.Collections.ICollection)</InterfaceMember>
      </Implements>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="succeeded" Type="System.Boolean" />
        <Parameter Name="items" Type="System.Collections.ICollection" />
      </Parameters>
      <Docs>
        <param name="succeeded">
          <span data-ttu-id="2ba59-194">
            <see langword="true" /> se a confirmação for bem-sucedida; caso contrário, <see langword="false" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-194">
              <see langword="true" /> if the commit succeeded; otherwise, <see langword="false" />.</span>
          </span>
        </param>
        <param name="items">
          <span data-ttu-id="2ba59-195">Um <see cref="T:System.Collections.ICollection" /> de objetos de estado serializados.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-195">An <see cref="T:System.Collections.ICollection" /> of serialized state objects.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="2ba59-196">Conclui o lote de trabalho e libera todos os recursos.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-196">Completes the work batch and releases any resources.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="2ba59-197">Na implementação de fora da caixa de <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService>,</span><span class="sxs-lookup"><span data-stu-id="2ba59-197">In the out-of-box implementation of the <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService>,</span></span>   
 <span data-ttu-id="2ba59-198"><xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.System%23Workflow%23Runtime%23IPendingWork%23Complete%2A> é não operacional.</span><span class="sxs-lookup"><span data-stu-id="2ba59-198"><xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.System%23Workflow%23Runtime%23IPendingWork%23Complete%2A> is a no-op.</span></span> <span data-ttu-id="2ba59-199">Se você herdam e estender o <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService> classe, você pode usar <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.System%23Workflow%23Runtime%23IPendingWork%23Complete%2A> para executar as ações necessárias no `items` ditada pela sua implementação.</span><span class="sxs-lookup"><span data-stu-id="2ba59-199">If you inherit from and extend the <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService> class, you may use <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.System%23Workflow%23Runtime%23IPendingWork%23Complete%2A> to perform any actions required on `items` dictated by your implementation.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="System.Workflow.Runtime.IPendingWork.MustCommit">
      <MemberSignature Language="C#" Value="bool IPendingWork.MustCommit (System.Collections.ICollection items);" />
      <MemberSignature Language="ILAsm" Value=".method hidebysig newslot virtual instance bool System.Workflow.Runtime.IPendingWork.MustCommit(class System.Collections.ICollection items) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.System#Workflow#Runtime#IPendingWork#MustCommit(System.Collections.ICollection)" />
      <MemberSignature Language="VB.NET" Value="Function MustCommit (items As ICollection) As Boolean Implements IPendingWork.MustCommit" />
      <MemberSignature Language="C++ CLI" Value=" virtual bool System.Workflow.Runtime.IPendingWork.MustCommit(System::Collections::ICollection ^ items) = System::Workflow::Runtime::IPendingWork::MustCommit;" />
      <MemberType>Method</MemberType>
      <Implements>
        <InterfaceMember>M:System.Workflow.Runtime.IPendingWork.MustCommit(System.Collections.ICollection)</InterfaceMember>
      </Implements>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="items" Type="System.Collections.ICollection" />
      </Parameters>
      <Docs>
        <param name="items">
          <span data-ttu-id="2ba59-200">Um <see cref="T:System.Collections.ICollection" /> de objetos de estado serializados a serem gravados no banco de dados.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-200">An <see cref="T:System.Collections.ICollection" /> of serialized state objects to be written to the database.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="2ba59-201">Retorna um valor que indica se a coleção de objetos de estado serializados deve ser gravada no banco de dados.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-201">Returns a value that indicates whether the collection of serialized state objects should be written to the database.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="2ba59-202">
            <see langword="true" /> indica que o lote deve ser confirmado.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-202">
              <see langword="true" /> indicates that the batch should be committed.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="2ba59-203"><xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.System%23Workflow%23Runtime%23IPendingWork%23MustCommit(System.Collections.ICollection)> sempre retorna `true`, que instrui o mecanismo de tempo de execução do fluxo de trabalho para invocar <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.System%23Workflow%23Runtime%23IPendingWork%23MustCommit(System.Collections.ICollection)> no lote.</span><span class="sxs-lookup"><span data-stu-id="2ba59-203"><xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.System%23Workflow%23Runtime%23IPendingWork%23MustCommit(System.Collections.ICollection)> always returns `true`, which instructs the workflow run-time engine to invoke <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.System%23Workflow%23Runtime%23IPendingWork%23MustCommit(System.Collections.ICollection)> on the batch.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="UnloadOnIdle">
      <MemberSignature Language="C#" Value="protected internal override bool UnloadOnIdle (System.Workflow.ComponentModel.Activity activity);" />
      <MemberSignature Language="ILAsm" Value=".method familyorassemblyhidebysig virtual instance bool UnloadOnIdle(class System.Workflow.ComponentModel.Activity activity) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.UnloadOnIdle(System.Workflow.ComponentModel.Activity)" />
      <MemberSignature Language="C++ CLI" Value="protected public:&#xA; override bool UnloadOnIdle(System::Workflow::ComponentModel::Activity ^ activity);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="activity" Type="System.Workflow.ComponentModel.Activity" />
      </Parameters>
      <Docs>
        <param name="activity">
          <span data-ttu-id="2ba59-204">Uma <see cref="T:System.Workflow.ComponentModel.Activity" /> que representa a atividade raiz da instância do fluxo de trabalho.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-204">An <see cref="T:System.Workflow.ComponentModel.Activity" /> that represents the root activity of the workflow instance.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="2ba59-205">Retorna um valor que indica se o fluxo de trabalho é descarregado quando está em estado ocioso.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-205">Returns a value that indicates whether the workflow is unloaded when it is in an idle state.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="2ba59-206">
            <see langword="true" /> se o fluxo de trabalho for descarregado quando estiver em estado ocioso; caso contrário, <see langword="false" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-206">
              <see langword="true" /> if the workflow is unloaded when it is in an idle state; otherwise, <see langword="false" />.</span>
          </span>
        </returns>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="UnlockWorkflowInstanceState">
      <MemberSignature Language="C#" Value="protected internal override void UnlockWorkflowInstanceState (System.Workflow.ComponentModel.Activity rootActivity);" />
      <MemberSignature Language="ILAsm" Value=".method familyorassemblyhidebysig virtual instance void UnlockWorkflowInstanceState(class System.Workflow.ComponentModel.Activity rootActivity) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.UnlockWorkflowInstanceState(System.Workflow.ComponentModel.Activity)" />
      <MemberSignature Language="VB.NET" Value="Protected Friend Overrides Sub UnlockWorkflowInstanceState (rootActivity As Activity)" />
      <MemberSignature Language="C++ CLI" Value="protected public:&#xA; override void UnlockWorkflowInstanceState(System::Workflow::ComponentModel::Activity ^ rootActivity);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="rootActivity" Type="System.Workflow.ComponentModel.Activity" />
      </Parameters>
      <Docs>
        <param name="rootActivity">
          <span data-ttu-id="2ba59-207">Um <see cref="T:System.Workflow.ComponentModel.Activity" /> que representa a atividade raiz da instância do fluxo de trabalho.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-207">An <see cref="T:System.Workflow.ComponentModel.Activity" /> that represents the root activity of the workflow instance.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="2ba59-208">Desbloqueia o acesso ao estado da instância de fluxo de trabalho especificada.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2ba59-208">Unlocks access to the specified workflow instance state.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="2ba59-209">Esse método é usado pelo tempo de execução do fluxo de trabalho para desbloquear um estado de instância de fluxo de trabalho no repositório de dados sem persistência e é chamado pelo tempo de execução do fluxo de trabalho se o tempo de execução deve desbloquear o estado sem persistência, por exemplo, no caso de um <xref:System.Workflow.Runtime.WorkflowInstance.Abort%2A>.</span><span class="sxs-lookup"><span data-stu-id="2ba59-209">This method is used by the workflow runtime to unlock a workflow instance state in the data store without persistence and is called by the workflow runtime if the runtime must unlock the state without persisting, for example, in the case of an <xref:System.Workflow.Runtime.WorkflowInstance.Abort%2A>.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
  </Members>
</Type>